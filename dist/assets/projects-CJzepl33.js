import{h as s}from"./client-D6K6htDN.js";import{aa as y,i as o,y as n,R as p}from"./index-BJM9FpXo.js";const f=async()=>s.get("/projects"),j=async e=>s.get(`/projects/${e}`),d=async(e,c)=>s.put(`/projects/${e}`,c),v=async e=>s.post("/projects",e),P=async e=>s.delete(`/projects/${e}`),g=async()=>s.get("/projects/stats/day"),C=y("projects",()=>{const e=o([]),c=o({id:0,team_id:0,name:"none",slug:"",platform:"",team:{},key:{},events:[],issues:[],endpoints:[],notificationRules:[]}),l=o({name:"",slug:""}),t=o(!1),r=async()=>{t.value=!0;try{e.value=await f()}finally{t.value=!1}};return{projects:e,project:c,updateBody:l,isLoading:t,fetchProjects:r,fetchProject:async a=>{t.value=!0;try{c.value=(await j(a)).project}finally{t.value=!1}},fetchProjectsWithStats:async()=>{t.value=!0;try{e.value=await g()}finally{t.value=!1}},update:async(a,u)=>{t.value=!0;try{const{data:i}=await d(a,u);await r(),await n.push(`/projects/${i.slug}/settings/general`)}finally{t.value=!1}},create:async a=>{t.value=!0;try{await v(a),await n.push(p.PROJECT.INDEX)}finally{t.value=!1}},destroy:async a=>{t.value=!0;try{await P(a),await r(),await n.push("/projects")}finally{t.value=!1}}}});export{C as u};
