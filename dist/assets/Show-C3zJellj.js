import{_ as y}from"./EmptyState.vue_vue_type_script_setup_true_lang-BdG-MbLV.js";import{_ as p}from"./Badge.vue_vue_type_script_setup_true_lang-CWRgq3ED.js";import{I as l}from"./client-D6K6htDN.js";import"./StacktraceViewer.vue_vue_type_style_index_0_scoped_7fdb99e3_lang-B8VJLqpg.js";import{d as E,q as C,k as $,v as j,j as u,w as i,o as c,b as t,e as s,u as e,t as n,g as m,x as g,a as _,l as v,F as b,y as w,R as h}from"./index-BJM9FpXo.js";import{_ as f}from"./ThePanel.vue_vue_type_script_setup_true_lang-549Hm_ud.js";import{b as I,a as R}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-CjAASZmf.js";import{a as B,g as M}from"./index-CaLwU_wJ.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B9uLu0-5.js";import"./users-BNnsnLpB.js";import"./projects-CJzepl33.js";import"./platforms-D8ztvdxx.js";const D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8"},F={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4"},L={class:"flex items-center space-x-4"},N={class:"p-3 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl shadow-md"},O={class:"text-3xl font-bold text-gray-900 tracking-tight animate-fade-in"},U={class:"text-sm text-gray-500 mt-1"},V={class:"flex flex-wrap gap-3"},q={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},P={class:"lg:col-span-2 space-y-6"},H={class:"p-6"},J={class:"space-y-4"},W={class:"flex items-start"},z={class:"text-base font-medium text-gray-900"},G={class:"flex items-start"},K={class:"text-base font-medium text-gray-900"},Q={class:"divide-y divide-gray-100"},X={class:"flex items-center space-x-4"},Y={class:"flex-shrink-0 p-2 bg-indigo-50 rounded-lg"},Z={class:"flex-1 min-w-0"},tt={class:"text-base font-medium text-gray-900 truncate"},et={class:"text-sm text-gray-500 truncate"},st={class:"divide-y divide-gray-100"},ot=["onClick"],it={class:"flex items-start justify-between space-x-4"},at={class:"flex-1 min-w-0"},rt={class:"text-base font-medium text-gray-900 mb-1"},nt={class:"flex items-center space-x-3"},lt={class:"text-gray-400 hover:text-gray-500"},ct={class:"space-y-6"},dt={class:"divide-y divide-gray-100"},mt={class:"flex items-center space-x-4"},ut={class:"relative"},gt={class:"h-10 w-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 flex items-center justify-center text-white text-base font-semibold shadow-sm"},_t={class:"flex-1 min-w-0"},ft={class:"text-base font-medium text-gray-900 truncate"},pt={class:"text-sm text-gray-500 truncate"},ht={class:"px-6 py-4 border-t border-gray-100 bg-gray-50"},xt={class:"p-6 space-y-4"},yt={class:"flex items-center space-x-3"},vt={class:"p-2 bg-indigo-100 rounded-lg"},bt={class:"flex items-center space-x-3"},wt={class:"p-2 bg-green-100 rounded-lg"},kt=E({__name:"Show",setup(Tt){const x=j(),o=I(),k=d=>d.charAt(0).toUpperCase(),T=d=>({in_progress:"warning",resolved:"success",closed:"secondary",open:"primary"})[d]||"default";C(()=>x.params.slug,()=>o.fetchTeam(`${x.params.slug}`)),$(()=>{o.fetchTeam(`${x.params.slug}`)});const S=async()=>{if(confirm("Вы уверены, что хотите удалить эту команду?"))try{await o.destroy(o.team.id),alert("Команда успешно удалена"),await w.push("/teams")}catch(d){alert("Не удалось удалить команду"),console.error("Ошибка при удалении команды:",d)}};return(d,r)=>(c(),u(R,null,{default:i(()=>[t("div",D,[t("div",F,[t("div",L,[t("div",N,[s(e(l),{icon:"heroicons:user-group",class:"h-8 w-8 text-white"})]),t("div",null,[t("h1",O,n(e(o).team.name),1),t("p",U,"Команда • "+n(e(o).team.members.length)+" участников",1)])]),t("div",V,[s(e(g),{to:`/teams/${e(o).team.slug}/edit`,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-gray-700 text-sm font-medium rounded-lg shadow-sm hover:bg-gray-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:i(()=>[s(e(l),{icon:"heroicons:pencil-square",class:"mr-2 h-4 w-4"}),r[0]||(r[0]=m(" Редактировать "))]),_:1,__:[0]},8,["to"]),t("button",{onClick:S,type:"button",class:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-red-600 text-sm font-medium rounded-lg shadow-sm hover:bg-red-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"},[s(e(l),{icon:"heroicons:trash",class:"mr-2 h-4 w-4"}),r[1]||(r[1]=m(" Удалить "))])])]),t("div",q,[t("div",P,[s(e(f),{title:"Основная информация"},{default:i(()=>[t("div",H,[t("dl",J,[t("div",W,[r[2]||(r[2]=t("dt",{class:"flex-1 text-sm font-medium text-gray-500"},"Название команды",-1)),t("dd",z,n(e(o).team.name),1)]),t("div",G,[r[3]||(r[3]=t("dt",{class:"flex-1 text-sm font-medium text-gray-500"},"Идентификатор",-1)),t("dd",K,n(e(o).team.slug),1)])])])]),_:1}),s(e(f),{title:"Проекты команды"},{button:i(()=>[s(e(p),{variant:"primary"},{default:i(()=>[m(n(e(o).team.projects.length)+" проектов ",1)]),_:1})]),default:i(()=>[t("div",Q,[e(o).team.projects.length?(c(!0),_(b,{key:0},v(e(o).team.projects,a=>(c(),u(e(g),{key:a.id,to:`/projects/${a.slug}`,class:"block p-5 hover:bg-gray-50 transition-colors duration-150"},{default:i(()=>[t("div",X,[t("div",Y,[s(e(l),{icon:e(B)(a.platform),class:"w-6 h-6 text-indigo-600"},null,8,["icon"])]),t("div",Z,[t("p",tt,n(a.name),1),t("p",et,n(a.platform),1)]),t("div",null,[s(e(l),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})])])]),_:2},1032,["to"]))),128)):(c(),u(y,{key:1,title:"Нет проектов",icon:"heroicons:folder-open",description:"Добавьте команду в проект.",class:"p-6",small:""}))])]),_:1}),s(e(f),{title:"Активные задачи"},{button:i(()=>[s(e(p),{variant:"primary"},{default:i(()=>[m(n(e(o).team.assignments.length)+" задач ",1)]),_:1})]),default:i(()=>[t("ul",st,[e(o).team.assignments.length?(c(!0),_(b,{key:0},v(e(o).team.assignments,a=>(c(),_("li",{key:a.id,class:"p-5 hover:bg-gray-50 transition-colors duration-150",onClick:St=>e(w).push(e(h).ISSUE.SHOW.replace(":id",a.issue.id.toString()))},[t("div",it,[t("div",at,[t("p",rt,n(a.issue.title),1),t("div",nt,[s(e(p),{variant:T(a.issue.status),text:e(M)(a.issue.status)},null,8,["variant","text"])])]),t("button",lt,[s(e(l),{icon:"heroicons:ellipsis-vertical",class:"h-5 w-5"})])])],8,ot))),128)):(c(),u(y,{key:1,title:"Нет активных задач",icon:"heroicons:document-text",description:"Добавьте команду в задачу.",class:"p-6",small:""}))])]),_:1})]),t("div",ct,[s(e(f),{title:"Участники команды"},{button:i(()=>[s(e(p),{variant:"success"},{default:i(()=>[m(n(e(o).team.members.length)+" человек ",1)]),_:1})]),default:i(()=>[t("ul",dt,[e(o).team.members.length?(c(!0),_(b,{key:0},v(e(o).team.members,a=>(c(),_("li",{key:a.id,class:"p-5 hover:bg-gray-50 transition-colors duration-150"},[t("div",mt,[t("div",ut,[t("div",gt,n(k(a.name)),1)]),t("div",_t,[t("p",ft,n(a.name),1),t("p",pt,n(a.email),1)])])]))),128)):(c(),u(y,{key:1,title:"Нет участников команды",icon:"heroicons:user-group",description:"Пригласите участников в команду.",class:"p-6",small:""}))]),t("div",ht,[s(e(g),{to:e(h).TEAM.EDIT.replace(":slug",e(o).team.slug),class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:i(()=>[s(e(l),{icon:"heroicons:plus",class:"-ml-1 mr-2 h-5 w-5 text-gray-400"}),r[4]||(r[4]=m(" Пригласить участника "))]),_:1,__:[4]},8,["to"])])]),_:1}),s(e(f),{title:"Быстрые действия"},{default:i(()=>[t("div",xt,[s(e(g),{to:e(h).PROJECT.CREATE,class:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50 transition-all duration-200"},{default:i(()=>[t("div",yt,[t("div",vt,[s(e(l),{icon:"heroicons:plus-circle",class:"h-5 w-5 text-indigo-600"})]),r[5]||(r[5]=t("span",{class:"text-sm font-medium text-gray-700"},"Создать проект",-1))]),s(e(l),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})]),_:1},8,["to"]),s(e(g),{to:e(h).TEAM.EDIT.replace(":slug",e(o).team.slug),class:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-all duration-200"},{default:i(()=>[t("div",bt,[t("div",wt,[s(e(l),{icon:"heroicons:user-plus",class:"h-5 w-5 text-green-600"})]),r[6]||(r[6]=t("span",{class:"text-sm font-medium text-gray-700"},"Добавить участника",-1))]),s(e(l),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})]),_:1},8,["to"])])]),_:1})])])])]),_:1}))}}),Ot=A(kt,[["__scopeId","data-v-b3efa6c0"]]);export{Ot as default};
