import{d as T,k as b,m as C,i as R,x as I,l as h,w as c,o as d,b as e,q as m,e as r,f as s,t as n,h as x,y as u,a as g,F as p,n as _,R as f,z as S}from"./index-B52tdAFx.js";import{b as $,a as A}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-BHQCpG9L.js";import{I as a}from"./iconify-CsbjDS1d.js";import{_ as B}from"./EmptyState.vue_vue_type_script_setup_true_lang-C3kzaHip.js";import"./index-BCqgpTI_.js";import{_ as M}from"./Badge.vue_vue_type_script_setup_true_lang-pYdpe5iV.js";import{a as L,g as N}from"./index-BPW3n-1W.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C2dpklE6.js";import"./projects-DY7Of87O.js";import"./platforms-D8ztvdxx.js";const D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8"},F={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4"},O={class:"flex items-center space-x-4"},P={class:"p-3 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl shadow-md"},q={class:"text-3xl font-bold text-gray-900 tracking-tight animate-fade-in"},J={class:"text-sm text-gray-500 mt-1"},U={class:"flex flex-wrap gap-3"},z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},G={class:"lg:col-span-2 space-y-6"},H={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},K={class:"p-6"},Q={class:"space-y-4"},W={class:"flex items-start"},X={class:"text-base font-medium text-gray-900"},Y={class:"flex items-start"},Z={class:"text-base font-medium text-gray-900"},ee={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},te={class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},se={class:"flex items-center justify-between"},oe={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},re={class:"divide-y divide-gray-100"},ie={class:"flex items-center space-x-4"},ne={class:"flex-shrink-0 p-2 bg-indigo-50 rounded-lg"},ae={class:"flex-1 min-w-0"},de={class:"text-base font-medium text-gray-900 truncate"},le={class:"text-sm text-gray-500 truncate"},ce={key:1,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},ge={class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},ue={class:"flex items-center justify-between"},me={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800"},xe={class:"divide-y divide-gray-100"},fe={class:"flex items-start justify-between space-x-4"},he={class:"flex-1 min-w-0"},pe={class:"text-base font-medium text-gray-900 mb-1"},_e={class:"flex items-center space-x-3"},be={class:"text-gray-400 hover:text-gray-500"},ye={class:"space-y-6"},ve={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},we={class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},ke={class:"flex items-center justify-between"},je={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Ee={class:"divide-y divide-gray-100"},Te={class:"flex items-center space-x-4"},Ce={class:"relative"},Re={class:"h-10 w-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 flex items-center justify-center text-white text-base font-semibold shadow-sm"},Ie={class:"flex-1 min-w-0"},Se={class:"text-base font-medium text-gray-900 truncate"},$e={class:"text-sm text-gray-500 truncate"},Ae={class:"px-6 py-4 border-t border-gray-100 bg-gray-50"},Be={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},Me={class:"p-6 space-y-4"},Le={class:"flex items-center space-x-3"},Ne={class:"p-2 bg-indigo-100 rounded-lg"},Ve={class:"flex items-center space-x-3"},De={class:"p-2 bg-green-100 rounded-lg"},Fe=T({__name:"Show",setup(Oe){const y=I(),v=$(),o=b({id:0,name:"",slug:"",members:[],projects:[],assignments:[]}),w=b(!0),k=l=>l.charAt(0).toUpperCase(),j=l=>({in_progress:"warning",resolved:"success",closed:"secondary",open:"primary"})[l]||"default";C(async()=>{try{o.value=await R.get(`/teams/${y.params.slug}`)}catch(l){console.error("Ошибка загрузки данных команды",l)}finally{w.value=!1}});const E=async()=>{if(confirm("Вы уверены, что хотите удалить эту команду?"))try{await v.destroy(o.value.id),alert("Команда успешно удалена"),await S.push("/teams")}catch(l){alert("Не удалось удалить команду"),console.error("Ошибка при удалении команды:",l)}};return(l,t)=>(d(),h(A,null,{default:c(()=>[e("div",D,[e("div",F,[e("div",O,[e("div",P,[r(s(a),{icon:"heroicons:user-group",class:"h-8 w-8 text-white"})]),e("div",null,[e("h1",q,n(o.value.name),1),e("p",J,"Команда • "+n(o.value.members.length)+" участников",1)])]),e("div",U,[r(s(u),{to:`/teams/${o.value.slug}/edit`,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-gray-700 text-sm font-medium rounded-lg shadow-sm hover:bg-gray-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:c(()=>[r(s(a),{icon:"heroicons:pencil-square",class:"mr-2 h-4 w-4"}),t[0]||(t[0]=x(" Редактировать "))]),_:1},8,["to"]),e("button",{onClick:E,type:"button",class:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-red-600 text-sm font-medium rounded-lg shadow-sm hover:bg-red-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"},[r(s(a),{icon:"heroicons:trash",class:"mr-2 h-4 w-4"}),t[1]||(t[1]=x(" Удалить "))])])]),e("div",z,[e("div",G,[e("div",H,[t[4]||(t[4]=e("div",{class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Основная информация")],-1)),e("div",K,[e("dl",Q,[e("div",W,[t[2]||(t[2]=e("dt",{class:"flex-1 text-sm font-medium text-gray-500"},"Название команды",-1)),e("dd",X,n(o.value.name),1)]),e("div",Y,[t[3]||(t[3]=e("dt",{class:"flex-1 text-sm font-medium text-gray-500"},"Идентификатор",-1)),e("dd",Z,n(o.value.slug),1)])])])]),o.value.projects.length?(d(),g("div",ee,[e("div",te,[e("div",se,[t[5]||(t[5]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Проекты команды",-1)),e("span",oe,n(o.value.projects.length)+" проектов ",1)])]),e("div",re,[(d(!0),g(p,null,_(o.value.projects,i=>(d(),h(s(u),{key:i.id,to:`/projects/${i.slug}`,class:"block p-5 hover:bg-gray-50 transition-colors duration-150"},{default:c(()=>[e("div",ie,[e("div",ne,[r(s(a),{icon:s(L)(i.platform),class:"w-6 h-6 text-indigo-600"},null,8,["icon"])]),e("div",ae,[e("p",de,n(i.name),1),e("p",le,n(i.platform),1)]),e("div",null,[r(s(a),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})])])]),_:2},1032,["to"]))),128))])])):m("",!0),o.value.assignments.length?(d(),g("div",ce,[e("div",ge,[e("div",ue,[t[6]||(t[6]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Активные задачи",-1)),e("span",me,n(o.value.assignments.length)+" задач ",1)])]),e("ul",xe,[(d(!0),g(p,null,_(o.value.assignments,i=>(d(),g("li",{key:i.id,class:"p-5 hover:bg-gray-50 transition-colors duration-150"},[e("div",fe,[e("div",he,[e("p",pe,n(i.issue.title),1),e("div",_e,[r(s(M),{variant:j(i.issue.status),text:s(N)(i.issue.status)},null,8,["variant","text"]),t[7]||(t[7]=e("span",{class:"text-xs text-gray-500"},"Обновлено 2 дня назад",-1))])]),e("button",be,[r(s(a),{icon:"heroicons:ellipsis-vertical",class:"h-5 w-5"})])])]))),128))])])):m("",!0)]),e("div",ye,[o.value.members.length?(d(),g("div",ve,[e("div",we,[e("div",ke,[t[8]||(t[8]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Участники команды",-1)),e("span",je,n(o.value.members.length)+" человек ",1)])]),e("ul",Ee,[(d(!0),g(p,null,_(o.value.members,i=>(d(),g("li",{key:i.id,class:"p-5 hover:bg-gray-50 transition-colors duration-150"},[e("div",Te,[e("div",Ce,[e("div",Re,n(k(i.name)),1)]),e("div",Ie,[e("p",Se,n(i.name),1),e("p",$e,n(i.email),1)])])]))),128))]),e("div",Ae,[r(s(u),{to:s(f).TEAM.EDIT.replace(":slug",o.value.slug),class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:c(()=>[r(s(a),{icon:"heroicons:plus",class:"-ml-1 mr-2 h-5 w-5 text-gray-400"}),t[9]||(t[9]=x(" Пригласить участника "))]),_:1},8,["to"])])])):m("",!0),e("div",Be,[t[12]||(t[12]=e("div",{class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Быстрые действия")],-1)),e("div",Me,[r(s(u),{to:s(f).PROJECT.CREATE,class:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50 transition-all duration-200"},{default:c(()=>[e("div",Le,[e("div",Ne,[r(s(a),{icon:"heroicons:plus-circle",class:"h-5 w-5 text-indigo-600"})]),t[10]||(t[10]=e("span",{class:"text-sm font-medium text-gray-700"},"Создать проект",-1))]),r(s(a),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})]),_:1},8,["to"]),r(s(u),{to:s(f).TEAM.EDIT.replace(":slug",o.value.slug),class:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-all duration-200"},{default:c(()=>[e("div",Ve,[e("div",De,[r(s(a),{icon:"heroicons:user-plus",class:"h-5 w-5 text-green-600"})]),t[11]||(t[11]=e("span",{class:"text-sm font-medium text-gray-700"},"Добавить участника",-1))]),r(s(a),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})]),_:1},8,["to"])])])])]),!o.value.projects.length&&!o.value.assignments.length?(d(),h(s(B),{key:0,title:"Команда пуста",icon:"heroicons:user-group",description:"Начните добавлять проекты и участников, чтобы раскрыть потенциал вашей команды.",class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 text-center"},{default:c(()=>[r(s(u),{to:s(f).PROJECT.CREATE,class:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:c(()=>[r(s(a),{icon:"heroicons:plus",class:"-ml-1 mr-2 h-5 w-5"}),t[13]||(t[13]=x(" Добавить проект "))]),_:1},8,["to"])]),_:1})):m("",!0)])]),_:1}))}}),Ye=V(Fe,[["__scopeId","data-v-f7e40229"]]);export{Ye as default};
