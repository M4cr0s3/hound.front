import{C as w,am as b,ar as y,as as P,at as S,an as d}from"./index-DyigCoU2.js";function T(t){return P()?(S(t),!0):!1}const p=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const O=Object.prototype.toString,W=t=>O.call(t)==="[object Object]",m=()=>{},C=F();function F(){var t,e;return p&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function h(t,e){function i(...n){return new Promise((r,o)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(r).catch(o)})}return i}const A=t=>t();function v(t,e={}){let i,n,r=m;const o=s=>{clearTimeout(s),r(),r=m};let a;return s=>{const l=d(t),u=d(e.maxWait);return i&&o(i),l<=0||u!==void 0&&u<=0?(n&&(o(n),n=null),Promise.resolve(s())):new Promise((f,g)=>{r=e.rejectOnCancel?g:f,a=s,u&&!n&&(n=setTimeout(()=>{i&&o(i),n=null,f(a())},u)),i=setTimeout(()=>{n&&o(n),n=null,f(s())},l)})}}function D(t){let e;function i(){return e||(e=t()),e}return i.reset=async()=>{const n=e;e=void 0,n&&await n},i}function I(t){return Array.isArray(t)?t:[t]}function _(t,e=200,i={}){return h(v(e,i),t)}function j(t,e,i={}){const{eventFilter:n=A,...r}=i;return w(t,h(n,e),r)}function R(t,e,i={}){const{immediate:n=!0,immediateCallback:r=!1}=i,o=b(!1);let a=null;function c(){a&&(clearTimeout(a),a=null)}function s(){o.value=!1,c()}function l(...u){r&&t(),c(),o.value=!0,a=setTimeout(()=>{o.value=!1,a=null,t(...u)},d(e))}return n&&(o.value=!0,p&&l()),T(s),{isPending:y(o),start:l,stop:s}}function k(t,e,i={}){const{debounce:n=0,maxWait:r=void 0,...o}=i;return j(t,e,{...o,eventFilter:v(n,{maxWait:r})})}function G(t,e,i){return w(t,e,{...i,immediate:!0})}export{R as a,p as b,G as c,T as d,D as e,W as f,C as i,m as n,I as t,_ as u,k as w};
