import{d as y,c as w,a as g,o as u,b as t,F as $,l as k,n as C,h,e as a,u as o,t as S,i as j,j as U,w as m,g as f,R as P,K as x}from"./index-BJM9FpXo.js";import{I as c}from"./client-D6K6htDN.js";import{P as v}from"./platforms-D8ztvdxx.js";import{_ as b}from"./Button.vue_vue_type_script_setup_true_lang-DLJ3rjid.js";import"./StacktraceViewer.vue_vue_type_style_index_0_scoped_7fdb99e3_lang-B8VJLqpg.js";import{_ as V}from"./InputField.vue_vue_type_script_setup_true_lang-BrMCFGzf.js";import{_ as R}from"./SelectField.vue_vue_type_script_setup_true_lang-l9nXAe77.js";import{_ as L}from"./ThePanel.vue_vue_type_script_setup_true_lang-549Hm_ud.js";import{b as T,a as B}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-CjAASZmf.js";import{u as E}from"./projects-CJzepl33.js";import"./index-B9uLu0-5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./users-BNnsnLpB.js";const N={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},F=["onClick"],I={class:"text-sm text-center"},M=y({__name:"PlatformCard",props:{category:{},modelValue:{}},emits:["update:modelValue"],setup(_,{emit:s}){const i=_,d=s,p=w(()=>i.category?v.filter(e=>e.categories.includes(i.category)):v),n=e=>{d("update:modelValue",e.name)};return(e,l)=>(u(),g("div",null,[t("div",N,[(u(!0),g($,null,k(p.value,r=>(u(),g("button",{key:r.id,onClick:h(z=>n(r),["prevent"]),class:C(["p-3 border rounded-lg flex flex-col items-center transition-colors cursor-pointer",{"border-indigo-500 bg-indigo-50":e.modelValue===r.name,"border-gray-200 hover:border-gray-300":e.modelValue!==r.name}])},[a(o(c),{icon:r.icon,class:"w-8 h-8 mb-2"},null,8,["icon"]),t("span",I,S(r.name),1)],10,F))),128))])]))}}),O={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},q={class:"flex items-center space-x-4 mb-8"},D={class:"p-3 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl shadow-md"},K={class:"pt-4 flex justify-end gap-x-3 border-t border-gray-100"},ae=y({__name:"Create",setup(_){const s=j({name:"",slug:"",team_id:0,platform:""}),i=async()=>{try{await d.create(s.value),x.success("Проект успешно создан")}catch(n){x.error("Произошла ошибка при создании проекта",{description:n.data.message})}},d=E(),p=T();return(n,e)=>(u(),U(B,null,{default:m(()=>[t("div",O,[t("div",q,[t("div",D,[a(o(c),{icon:"heroicons:plus-circle",class:"h-8 w-8 text-white"})]),e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Создание нового проекта"),t("p",{class:"text-sm text-gray-500"},"Заполните информацию о проекте, чтобы начать работу")],-1))]),a(o(L),{title:"Основные параметры"},{default:m(()=>[t("form",{class:"p-6 space-y-6",onSubmit:h(i,["prevent"])},[a(o(V),{id:"project-name",label:"Название проекта",modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.name=l),placeholder:"project",required:"",icon:"heroicons:tag"},null,8,["modelValue"]),a(o(V),{id:"project-slug",label:"URL-идентификатор",modelValue:s.value.slug,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.slug=l),placeholder:"Например: new-project",description:"Уникальный идентификатор проекта в URL. Можно оставить пустым для автоматической генерации.",icon:"heroicons:link"},null,8,["modelValue"]),a(o(R),{modelValue:s.value.team_id,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.team_id=l),options:o(p).teams,label:"Команда",placeholder:"Выберите команду","option-label":"name","option-value":"id","no-options-value":"Команды отсутствуют",icon:"heroicons:user-group",required:""},null,8,["modelValue","options"]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[f(" Платформа "),t("span",{class:"text-red-500"},"*")],-1)),a(M,{modelValue:s.value.platform,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.platform=l)},null,8,["modelValue"])]),t("div",K,[a(o(b),{variant:"secondary",onClick:e[4]||(e[4]=l=>n.$router.push(o(P).PROJECT.INDEX)),class:"px-4 py-2"},{default:m(()=>[a(o(c),{icon:"heroicons:x-mark",class:"mr-2 h-4 w-4"}),e[7]||(e[7]=f(" Отмена "))]),_:1,__:[7]}),a(o(b),{type:"submit","is-loading":o(d).isLoading,"loading-text":"Создание...",class:"px-4 py-2"},{default:m(()=>[a(o(c),{icon:"heroicons:plus",class:"mr-2 h-4 w-4"}),e[8]||(e[8]=f(" Создать проект "))]),_:1,__:[8]},8,["is-loading"])])],32)]),_:1})])]),_:1}))}});export{ae as default};
