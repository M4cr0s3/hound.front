import{d as C,c as k,a as r,o as n,b as a,h as d,t as l,F as p,n as u,p as c,l as _,q as $,ad as x,r as L,f as B}from"./index-CP1nmCJy.js";import"./iconify-C5CIr0u4.js";import"./index-BCqgpTI_.js";const P={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},T={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},j={class:"text-sm text-gray-700"},z={class:"font-medium"},S={class:"font-medium"},V={class:"font-medium"},W={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},F=["disabled","onClick","innerHTML"],K=C({__name:"Pagination",props:{pagination:{},isLoading:{type:Boolean,default:!1},text:{}},emits:["page-change"],setup(h,{emit:y}){const s=h,m=y,f=k(()=>s.pagination.current_page===1),b=k(()=>s.pagination.current_page===Math.ceil(s.pagination.total/(s.pagination.to-s.pagination.from+1))),g=(e,i)=>{const t=[];return t.push("relative inline-flex items-center px-4 py-2 border text-sm font-medium"),s.isLoading&&e.url&&t.push("opacity-70 cursor-wait"),e.active?(t.push("z-10 bg-indigo-50 border-indigo-500 text-indigo-600"),t.join(" ")):e.url?(i===0?t.push("rounded-l-md bg-white text-gray-500 hover:bg-gray-50"):i===s.pagination.links.length-1?t.push("rounded-r-md bg-white text-gray-500 hover:bg-gray-50"):t.push("bg-white text-gray-500 hover:bg-gray-50"),(i===1&&f.value||i===s.pagination.links.length-2&&b.value)&&t.push("cursor-not-allowed bg-gray-100"),t.join(" ")):(t.push("bg-gray-100 text-gray-300 cursor-not-allowed!"),t.join(" "))},v=e=>{s.isLoading||m("page-change",e)};return(e,i)=>(n(),r("div",P,[a("div",T,[a("div",null,[a("p",j,[i[0]||(i[0]=d(" Показано с ")),a("span",z,l(e.pagination.from),1),i[1]||(i[1]=d(" по ")),a("span",S,l(e.pagination.to),1),i[2]||(i[2]=d(" из ")),a("span",V,l(e.pagination.total),1),d(" "+l(e.text),1)])]),a("div",null,[a("nav",W,[(n(!0),r(p,null,u(e.pagination.links,(t,w)=>(n(),r("button",{key:t.label,disabled:!t.url||e.isLoading,onClick:o=>v(t.url),class:c(["relative inline-flex items-center px-4 cursor-pointer py-2 border border-gray-300 text-sm font-medium transition-colors duration-150",g(t,w)]),innerHTML:t.label},null,10,F))),128))])])])]))}}),M={class:"bg-white rounded-lg border border-gray-200"},N={class:"relative"},D={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-gray-50"},q={class:"bg-white divide-y divide-gray-200"},E=["onClick"],I=C({__name:"DataTable",props:{columns:{},data:{},rowKey:{},pagination:{},rowClickable:{type:Boolean,default:!1},isLoading:{type:Boolean},rowClass:{},paginationText:{}},emits:["row-click","page-change"],setup(h,{emit:y}){const s=h,m=y,f=(e,i)=>{const t=e[i.key];return i.format?i.format(t):t},b=e=>({overflow:e.truncate?"hidden":"visible","text-overflow":e.truncate?"ellipsis":"clip","white-space":e.truncate?"nowrap":"normal","max-width":e.maxWidth||"none","min-width":e.minWidth||"auto",display:"block"}),g=k(()=>s.columns.filter(e=>typeof e.visible=="function"?e.visible():e.visible!==!1)),v=e=>{s.rowClickable&&m("row-click",e)};return(e,i)=>(n(),r("div",M,[a("div",N,[a("table",D,[a("thead",H,[a("tr",null,[(n(!0),r(p,null,u(g.value,t=>(n(),r("th",{key:t.key,scope:"col",class:c(["px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",t.headerClass])},l(t.title),3))),128))])]),a("tbody",q,[(n(!0),r(p,null,u(e.data,(t,w)=>(n(),r("tr",{key:e.rowKey?t[e.rowKey]:w,class:c(["hover:bg-gray-50",{"cursor-pointer":e.rowClickable,[e.rowClass]:e.rowClass}]),onClick:o=>v(t)},[(n(!0),r(p,null,u(g.value,o=>(n(),r("td",{key:o.key,class:c(["px-6 py-4",o.cellClass]),style:x({"max-width":o.maxWidth||"none","min-width":o.minWidth||"auto"})},[a("div",{class:"cell-content",style:x(b(o))},[L(e.$slots,`cell-${o.key}`,{row:t,value:t[o.key]},()=>[d(l(f(t,o)),1)])],4)],6))),128))],10,E))),128))])])]),e.pagination?(n(),_(B(K),{key:0,pagination:e.pagination,"is-loading":s.isLoading,onPageChange:i[0]||(i[0]=t=>e.$emit("page-change",t)),class:"border-t border-gray-200",text:e.paginationText},null,8,["pagination","is-loading","text"])):$("",!0)]))}});export{I as _};
