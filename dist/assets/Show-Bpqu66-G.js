import{_ as h}from"./EmptyState.vue_vue_type_script_setup_true_lang-DvopFoNv.js";import{_ as p}from"./Badge.vue_vue_type_script_setup_true_lang-BI1auU3s.js";import{I as l}from"./iconify-DeLkM3a3.js";import"./StacktraceViewer.vue_vue_type_style_index_0_scoped_8568d111_lang-OogGfIpQ.js";import{d as E,x as $,m as j,y as C,l as u,w as i,o as c,b as t,e as s,f as e,t as n,h as m,z as g,a as f,n as y,F as v,R as b,A as I}from"./index-CDfA43ni.js";import{_}from"./ThePanel.vue_vue_type_script_setup_true_lang-BqDxrlIi.js";import{b as R,a as S}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-D9P48hLB.js";import{a as A,g as B}from"./index-BPW3n-1W.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CXyBh6JQ.js";import"./projects-CxkGGQX-.js";import"./platforms-D8ztvdxx.js";const D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8"},F={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4"},L={class:"flex items-center space-x-4"},N={class:"p-3 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl shadow-md"},V={class:"text-3xl font-bold text-gray-900 tracking-tight animate-fade-in"},O={class:"text-sm text-gray-500 mt-1"},P={class:"flex flex-wrap gap-3"},U={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},q={class:"lg:col-span-2 space-y-6"},z={class:"p-6"},J={class:"space-y-4"},G={class:"flex items-start"},H={class:"text-base font-medium text-gray-900"},K={class:"flex items-start"},Q={class:"text-base font-medium text-gray-900"},W={class:"divide-y divide-gray-100"},X={class:"flex items-center space-x-4"},Y={class:"flex-shrink-0 p-2 bg-indigo-50 rounded-lg"},Z={class:"flex-1 min-w-0"},tt={class:"text-base font-medium text-gray-900 truncate"},et={class:"text-sm text-gray-500 truncate"},st={class:"divide-y divide-gray-100"},ot={class:"flex items-start justify-between space-x-4"},at={class:"flex-1 min-w-0"},it={class:"text-base font-medium text-gray-900 mb-1"},rt={class:"flex items-center space-x-3"},nt={class:"text-gray-400 hover:text-gray-500"},lt={class:"space-y-6"},ct={class:"divide-y divide-gray-100"},dt={class:"flex items-center space-x-4"},mt={class:"relative"},ut={class:"h-10 w-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 flex items-center justify-center text-white text-base font-semibold shadow-sm"},gt={class:"flex-1 min-w-0"},ft={class:"text-base font-medium text-gray-900 truncate"},_t={class:"text-sm text-gray-500 truncate"},pt={class:"px-6 py-4 border-t border-gray-100 bg-gray-50"},xt={class:"p-6 space-y-4"},ht={class:"flex items-center space-x-3"},yt={class:"p-2 bg-indigo-100 rounded-lg"},vt={class:"flex items-center space-x-3"},bt={class:"p-2 bg-green-100 rounded-lg"},wt=E({__name:"Show",setup(kt){const x=C(),o=R(),w=d=>d.charAt(0).toUpperCase(),k=d=>({in_progress:"warning",resolved:"success",closed:"secondary",open:"primary"})[d]||"default";$(()=>x.params.slug,()=>o.fetchTeam(`${x.params.slug}`)),j(()=>{o.fetchTeam(`${x.params.slug}`)});const T=async()=>{if(confirm("Вы уверены, что хотите удалить эту команду?"))try{await o.destroy(o.team.id),alert("Команда успешно удалена"),await I.push("/teams")}catch(d){alert("Не удалось удалить команду"),console.error("Ошибка при удалении команды:",d)}};return(d,a)=>(c(),u(S,null,{default:i(()=>[t("div",D,[t("div",F,[t("div",L,[t("div",N,[s(e(l),{icon:"heroicons:user-group",class:"h-8 w-8 text-white"})]),t("div",null,[t("h1",V,n(e(o).team.name),1),t("p",O,"Команда • "+n(e(o).team.members.length)+" участников",1)])]),t("div",P,[s(e(g),{to:`/teams/${e(o).team.slug}/edit`,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-gray-700 text-sm font-medium rounded-lg shadow-sm hover:bg-gray-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:i(()=>[s(e(l),{icon:"heroicons:pencil-square",class:"mr-2 h-4 w-4"}),a[0]||(a[0]=m(" Редактировать "))]),_:1},8,["to"]),t("button",{onClick:T,type:"button",class:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-red-600 text-sm font-medium rounded-lg shadow-sm hover:bg-red-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"},[s(e(l),{icon:"heroicons:trash",class:"mr-2 h-4 w-4"}),a[1]||(a[1]=m(" Удалить "))])])]),t("div",U,[t("div",q,[s(e(_),{title:"Основная информация"},{default:i(()=>[t("div",z,[t("dl",J,[t("div",G,[a[2]||(a[2]=t("dt",{class:"flex-1 text-sm font-medium text-gray-500"},"Название команды",-1)),t("dd",H,n(e(o).team.name),1)]),t("div",K,[a[3]||(a[3]=t("dt",{class:"flex-1 text-sm font-medium text-gray-500"},"Идентификатор",-1)),t("dd",Q,n(e(o).team.slug),1)])])])]),_:1}),s(e(_),{title:"Проекты команды"},{button:i(()=>[s(e(p),{variant:"primary"},{default:i(()=>[m(n(e(o).team.projects.length)+" проектов ",1)]),_:1})]),default:i(()=>[t("div",W,[e(o).team.projects.length?(c(!0),f(v,{key:0},y(e(o).team.projects,r=>(c(),u(e(g),{key:r.id,to:`/projects/${r.slug}`,class:"block p-5 hover:bg-gray-50 transition-colors duration-150"},{default:i(()=>[t("div",X,[t("div",Y,[s(e(l),{icon:e(A)(r.platform),class:"w-6 h-6 text-indigo-600"},null,8,["icon"])]),t("div",Z,[t("p",tt,n(r.name),1),t("p",et,n(r.platform),1)]),t("div",null,[s(e(l),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})])])]),_:2},1032,["to"]))),128)):(c(),u(h,{key:1,title:"Нет проектов",icon:"heroicons:folder-open",description:"Добавьте команду в проект.",class:"p-6",small:""}))])]),_:1}),s(e(_),{title:"Активные задачи"},{button:i(()=>[s(e(p),{variant:"primary"},{default:i(()=>[m(n(e(o).team.assignments.length)+" проектов ",1)]),_:1})]),default:i(()=>[t("ul",st,[e(o).team.assignments.length?(c(!0),f(v,{key:0},y(e(o).team.assignments,r=>(c(),f("li",{key:r.id,class:"p-5 hover:bg-gray-50 transition-colors duration-150"},[t("div",ot,[t("div",at,[t("p",it,n(r.issue.title),1),t("div",rt,[s(e(p),{variant:k(r.issue.status),text:e(B)(r.issue.status)},null,8,["variant","text"]),a[4]||(a[4]=t("span",{class:"text-xs text-gray-500"},"Обновлено 2 дня назад",-1))])]),t("button",nt,[s(e(l),{icon:"heroicons:ellipsis-vertical",class:"h-5 w-5"})])])]))),128)):(c(),u(h,{key:1,title:"Нет активных задач",icon:"heroicons:document-text",description:"Добавьте команду в задачу.",class:"p-6",small:""}))])]),_:1})]),t("div",lt,[s(e(_),{title:"Участники команды"},{button:i(()=>[s(e(p),{variant:"success"},{default:i(()=>[m(n(e(o).team.members.length)+" человек ",1)]),_:1})]),default:i(()=>[t("ul",ct,[e(o).team.members.length?(c(!0),f(v,{key:0},y(e(o).team.members,r=>(c(),f("li",{key:r.id,class:"p-5 hover:bg-gray-50 transition-colors duration-150"},[t("div",dt,[t("div",mt,[t("div",ut,n(w(r.name)),1)]),t("div",gt,[t("p",ft,n(r.name),1),t("p",_t,n(r.email),1)])])]))),128)):(c(),u(h,{key:1,title:"Нет участников команды",icon:"heroicons:user-group",description:"Пригласите участников в команду.",class:"p-6",small:""}))]),t("div",pt,[s(e(g),{to:e(b).TEAM.EDIT.replace(":slug",e(o).team.slug),class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:i(()=>[s(e(l),{icon:"heroicons:plus",class:"-ml-1 mr-2 h-5 w-5 text-gray-400"}),a[5]||(a[5]=m(" Пригласить участника "))]),_:1},8,["to"])])]),_:1}),s(e(_),{title:"Быстрые действия"},{default:i(()=>[t("div",xt,[s(e(g),{to:e(b).PROJECT.CREATE,class:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50 transition-all duration-200"},{default:i(()=>[t("div",ht,[t("div",yt,[s(e(l),{icon:"heroicons:plus-circle",class:"h-5 w-5 text-indigo-600"})]),a[6]||(a[6]=t("span",{class:"text-sm font-medium text-gray-700"},"Создать проект",-1))]),s(e(l),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})]),_:1},8,["to"]),s(e(g),{to:e(b).TEAM.EDIT.replace(":slug",e(o).team.slug),class:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-all duration-200"},{default:i(()=>[t("div",vt,[t("div",bt,[s(e(l),{icon:"heroicons:user-plus",class:"h-5 w-5 text-green-600"})]),a[7]||(a[7]=t("span",{class:"text-sm font-medium text-gray-700"},"Добавить участника",-1))]),s(e(l),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})]),_:1},8,["to"])])]),_:1})])])])]),_:1}))}}),Ft=M(wt,[["__scopeId","data-v-aedd79b0"]]);export{Ft as default};
