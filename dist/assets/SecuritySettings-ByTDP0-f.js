import{ae,k as R,c as m,af as I,d as T,ag as _,m as K,C as M,ah as B,F as le,D as re,ai as oe,a as V,b as l,q as E,t as U,o as S,e as h,w as O,f as k,p as P,h as se}from"./index-DmyUZq0U.js";import{_ as W}from"./InputField.vue_vue_type_script_setup_true_lang-UkiDE7Dv.js";import{_ as ie}from"./SubmitButton.vue_vue_type_script_setup_true_lang-CL5fLLvM.js";import{i as N,a as z,d as ne,o as A,e as ue,A as J,f as de,E as pe,u as ce,T as me,O as ve,b as $,P as q,N as L,c as H,p as fe}from"./form-BhL115Ha.js";import{_ as be}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./iconify-DK_FkkOf.js";function ge({container:e,accept:r,walk:d,enabled:a}){ae(()=>{let o=e.value;if(!o||a!==void 0&&!a.value)return;let n=N(e);if(!n)return;let u=Object.assign(p=>r(p),{acceptNode:r}),v=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,u,!1);for(;v.nextNode();)d(v.currentNode)})}let ye=Symbol("DescriptionContext");function Q({slot:e=R({}),name:r="Description",props:d={}}={}){let a=R([]);function o(n){return a.value.push(n),()=>{let u=a.value.indexOf(n);u!==-1&&a.value.splice(u,1)}}return I(ye,{register:o,slot:e,name:r,props:d}),m(()=>a.value.length>0?a.value.join(" "):void 0)}let xe=Symbol("LabelContext");function X({slot:e={},name:r="Label",props:d={}}={}){let a=R([]);function o(n){return a.value.push(n),()=>{let u=a.value.indexOf(n);u!==-1&&a.value.splice(u,1)}}return I(xe,{register:o,slot:e,name:r,props:d}),m(()=>a.value.length>0?a.value.join(" "):void 0)}function he(e,r){return e===r}let Y=Symbol("RadioGroupContext");function Z(e){let r=oe(Y,null);if(r===null){let d=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,Z),d}return r}let _e=T({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>he},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{emit:r,attrs:d,slots:a,expose:o}){var n;let u=(n=e.id)!=null?n:`headlessui-radiogroup-${z()}`,v=R(null),p=R([]),w=X({name:"RadioGroupLabel"}),C=Q({name:"RadioGroupDescription"});o({el:v,$el:v});let[g,j]=ne(m(()=>e.modelValue),t=>r("update:modelValue",t),m(()=>e.defaultValue)),b={options:p,value:g,disabled:m(()=>e.disabled),firstOption:m(()=>p.value.find(t=>!t.propsRef.disabled)),containsCheckedOption:m(()=>p.value.some(t=>b.compare(_(t.propsRef.value),_(e.modelValue)))),compare(t,i){if(typeof e.by=="string"){let s=e.by;return(t==null?void 0:t[s])===(i==null?void 0:i[s])}return e.by(t,i)},change(t){var i;if(e.disabled||b.compare(_(g.value),_(t)))return!1;let s=(i=p.value.find(f=>b.compare(_(f.propsRef.value),_(t))))==null?void 0:i.propsRef;return s!=null&&s.disabled?!1:(j(t),!0)},registerOption(t){p.value.push(t),p.value=ve(p.value,i=>i.element)},unregisterOption(t){let i=p.value.findIndex(s=>s.id===t);i!==-1&&p.value.splice(i,1)}};I(Y,b),ge({container:m(()=>A(v)),accept(t){return t.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function y(t){if(!v.value||!v.value.contains(t.target))return;let i=p.value.filter(s=>s.propsRef.disabled===!1).map(s=>s.element);switch(t.key){case $.Enter:fe(t.currentTarget);break;case $.ArrowLeft:case $.ArrowUp:if(t.preventDefault(),t.stopPropagation(),q(i,L.Previous|L.WrapAround)===H.Success){let s=p.value.find(f=>{var c;return f.element===((c=N(v))==null?void 0:c.activeElement)});s&&b.change(s.propsRef.value)}break;case $.ArrowRight:case $.ArrowDown:if(t.preventDefault(),t.stopPropagation(),q(i,L.Next|L.WrapAround)===H.Success){let s=p.value.find(f=>{var c;return f.element===((c=N(f.element))==null?void 0:c.activeElement)});s&&b.change(s.propsRef.value)}break;case $.Space:{t.preventDefault(),t.stopPropagation();let s=p.value.find(f=>{var c;return f.element===((c=N(f.element))==null?void 0:c.activeElement)});s&&b.change(s.propsRef.value)}break}}let x=m(()=>{var t;return(t=A(v))==null?void 0:t.closest("form")});return K(()=>{M([x],()=>{if(!x.value||e.defaultValue===void 0)return;function t(){b.change(e.defaultValue)}return x.value.addEventListener("reset",t),()=>{var i;(i=x.value)==null||i.removeEventListener("reset",t)}},{immediate:!0})}),()=>{let{disabled:t,name:i,form:s,...f}=e,c={ref:v,id:u,role:"radiogroup","aria-labelledby":w.value,"aria-describedby":C.value,onKeydown:y};return B(le,[...i!=null&&g.value!=null?ue({[i]:g.value}).map(([D,G])=>B(de,pe({features:ce.Hidden,key:D,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:t,name:D,value:G}))):[],J({ourProps:c,theirProps:{...d,...me(f,["modelValue","defaultValue","by"])},slot:{},attrs:d,slots:a,name:"RadioGroup"})])}}});var Re=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Re||{});let F=T({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{attrs:r,slots:d,expose:a}){var o;let n=(o=e.id)!=null?o:`headlessui-radiogroup-option-${z()}`,u=Z("RadioGroupOption"),v=X({name:"RadioGroupLabel"}),p=Q({name:"RadioGroupDescription"}),w=R(null),C=m(()=>({value:e.value,disabled:e.disabled})),g=R(1);a({el:w,$el:w});let j=m(()=>A(w));K(()=>u.registerOption({id:n,element:j,propsRef:C})),re(()=>u.unregisterOption(n));let b=m(()=>{var c;return((c=u.firstOption.value)==null?void 0:c.id)===n}),y=m(()=>u.disabled.value||e.disabled),x=m(()=>u.compare(_(u.value.value),_(e.value))),t=m(()=>y.value?-1:x.value||!u.containsCheckedOption.value&&b.value?0:-1);function i(){var c;u.change(e.value)&&(g.value|=2,(c=A(w))==null||c.focus())}function s(){g.value|=2}function f(){g.value&=-3}return()=>{let{value:c,disabled:D,...G}=e,ee={checked:x.value,disabled:y.value,active:!!(g.value&2)},te={id:n,ref:w,role:"radio","aria-checked":x.value?"true":"false","aria-labelledby":v.value,"aria-describedby":p.value,"aria-disabled":y.value?!0:void 0,tabIndex:t.value,onClick:y.value?void 0:i,onFocus:y.value?void 0:s,onBlur:y.value?void 0:f};return J({ourProps:te,theirProps:G,slot:ee,attrs:r,slots:d,name:"RadioGroupOption"})}}});const we={class:"flex items-start"},Ve={class:"flex items-center h-5"},Se=["id","value"],$e={class:"ml-3 text-sm"},Oe=["for"],Ee={key:0,class:"text-gray-500"},ke=T({__name:"ToggleField",props:{modelValue:{type:Boolean,required:!0},label:{type:String,required:!0},description:{type:String,default:""},name:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(r,d)=>(S(),V("div",we,[l("div",Ve,[l("input",{id:e.name,value:e.modelValue,type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,8,Se)]),l("div",$e,[l("label",{for:e.name,class:"font-medium text-gray-700"},U(e.label),9,Oe),e.description?(S(),V("p",Ee,U(e.description),1)):E("",!0)])]))}}),Le={class:"px-6 py-5 space-y-6"},Ne={class:"space-y-4"},Ae={class:"flex items-start cursor-pointer"},Te={class:"flex items-center h-5 mt-0.5"},Ce={key:0,class:"absolute h-2 w-2 rounded-full bg-indigo-600"},je={class:"flex items-start cursor-pointer"},De={class:"flex items-center h-5 mt-0.5"},Ge={key:0,class:"absolute h-2 w-2 rounded-full bg-indigo-600"},Pe={class:"flex items-center cursor-pointer"},Fe={class:"flex items-center h-5 mt-0.5"},Ie={key:0,class:"absolute h-2 w-2 rounded-full bg-indigo-600"},Be={class:"ml-3 text-sm flex-1"},Ue={class:"flex flex-col sm:flex-row sm:items-center gap-3"},We={class:"flex items-center space-x-2"},qe={key:0,class:"mt-1 text-yellow-600 text-xs"},He={class:"flex justify-end"},Ke=T({__name:"SecuritySettings",setup(e){const r=R({storeIpAddresses:!0,allowedDomains:"",rateLimiting:"default",customRateLimit:100});return M(()=>r.value.rateLimiting,d=>{d!=="custom"&&(r.value.customRateLimit=100)}),(d,a)=>(S(),V("div",null,[a[10]||(a[10]=l("div",{class:"px-6 py-5"},[l("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Конфиденциальность и безопасность ")],-1)),l("div",Le,[h(ke,{id:"store-ip-addresses",modelValue:r.value.storeIpAddresses,"onUpdate:modelValue":a[0]||(a[0]=o=>r.value.storeIpAddresses=o),label:"Хранить IP-адреса",description:"Выключите этот параметр, если вы не хотите хранить IP-адреса в базе данных."},null,8,["modelValue"]),h(W,{id:"allowed-domains",label:"Разрешенные доменные имена",modelValue:r.value.allowedDomains,"onUpdate:modelValue":a[1]||(a[1]=o=>r.value.allowedDomains=o),type:"textarea",description:"Список доменных имен, разделенных переносом строки, с которых разрешено отправлять запросы .",placeholder:"example.com\\n*.example.com"},null,8,["modelValue"]),l("div",Ne,[a[8]||(a[8]=l("h4",{class:"text-sm font-medium text-gray-700"},"Ограничение запросов",-1)),h(k(_e),{modelValue:r.value.rateLimiting,"onUpdate:modelValue":a[3]||(a[3]=o=>r.value.rateLimiting=o),class:"space-y-3"},{default:O(()=>[h(k(F),{value:"none"},{default:O(({checked:o})=>[l("div",Ae,[l("div",Te,[l("div",{class:P(["relative flex items-center justify-center h-4 w-4 border rounded-full",o?"border-indigo-500":"border-gray-300"])},[o?(S(),V("div",Ce)):E("",!0)],2)]),a[4]||(a[4]=l("div",{class:"ml-3 text-sm"},[l("label",{class:"font-medium text-gray-700"},"Без лимита"),l("p",{class:"text-gray-500"},"Неограниченное количество событий")],-1))])]),_:1}),h(k(F),{value:"default"},{default:O(({checked:o})=>[l("div",je,[l("div",De,[l("div",{class:P(["relative flex items-center justify-center h-4 w-4 border rounded-full",o?"border-indigo-500":"border-gray-300"])},[o?(S(),V("div",Ge)):E("",!0)],2)]),a[5]||(a[5]=l("div",{class:"ml-3 text-sm"},[l("label",{class:"font-medium text-gray-700"},"Стандартный (100 событий/минуту)"),l("p",{class:"text-gray-500"}," Рекомендуемый лимит для большинства проектов ")],-1))])]),_:1}),h(k(F),{value:"custom"},{default:O(({checked:o})=>[l("div",Pe,[l("div",Fe,[l("div",{class:P(["relative flex items-center justify-center h-4 w-4 border rounded-full",o?"border-indigo-500":"border-gray-300"])},[o?(S(),V("div",Ie)):E("",!0)],2)]),l("div",Be,[l("div",Ue,[a[7]||(a[7]=l("label",{class:"font-medium text-gray-700"},"Кастомный лимит:",-1)),l("div",We,[h(W,{id:"custom-rate-limit",modelValue:r.value.customRateLimit,"onUpdate:modelValue":a[2]||(a[2]=n=>r.value.customRateLimit=n),type:"number",class:"w-20",disabled:!o,min:"1"},null,8,["modelValue","disabled"]),a[6]||(a[6]=l("span",{class:"text-gray-500 whitespace-nowrap"},"событий в минуту",-1))])]),o&&r.value.customRateLimit>1e3?(S(),V("p",qe," Высокий лимит может повлиять на производительность ")):E("",!0)])])]),_:1})]),_:1},8,["modelValue"])]),l("div",He,[h(ie,{class:"cursor-pointer"},{default:O(()=>a[9]||(a[9]=[se(" Сохранить ")])),_:1})])])]))}}),Ze=be(Ke,[["__scopeId","data-v-2361608d"]]);export{Ze as default};
