import{d as C,k as _,m as R,i as S,x as I,l as h,w as c,o as d,b as e,q as m,e as r,f as s,t as n,h as f,y as u,a as g,F as p,n as b,R as x,z as A}from"./index-Bae0tEEm.js";import{b as M,a as $}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-DOHDoK6a.js";import{I as a}from"./iconify-B6ijirIO.js";import{_ as B}from"./EmptyState.vue_vue_type_script_setup_true_lang-DWsZobwZ.js";import"./index-BCqgpTI_.js";import{_ as L}from"./Badge.vue_vue_type_script_setup_true_lang-DQha9Emq.js";import{g as P}from"./index-FUb4nFco.js";import{P as F}from"./platforms-D8ztvdxx.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DMFhRu4i.js";import"./projects-DlZkTUBl.js";const O={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8"},V={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4"},D={class:"flex items-center space-x-4"},q={class:"p-3 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl shadow-md"},J={class:"text-3xl font-bold text-gray-900 tracking-tight animate-fade-in"},U={class:"text-sm text-gray-500 mt-1"},z={class:"flex flex-wrap gap-3"},G={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},H={class:"lg:col-span-2 space-y-6"},K={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},Q={class:"p-6"},W={class:"space-y-4"},X={class:"flex items-start"},Y={class:"text-base font-medium text-gray-900"},Z={class:"flex items-start"},ee={class:"text-base font-medium text-gray-900"},te={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},se={class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},oe={class:"flex items-center justify-between"},re={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},ie={class:"divide-y divide-gray-100"},ne={class:"flex items-center space-x-4"},ae={class:"flex-shrink-0 p-2 bg-indigo-50 rounded-lg"},de={class:"flex-1 min-w-0"},le={class:"text-base font-medium text-gray-900 truncate"},ce={class:"text-sm text-gray-500 truncate"},ge={key:1,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},ue={class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},me={class:"flex items-center justify-between"},fe={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800"},xe={class:"divide-y divide-gray-100"},he={class:"flex items-start justify-between space-x-4"},pe={class:"flex-1 min-w-0"},be={class:"text-base font-medium text-gray-900 mb-1"},_e={class:"flex items-center space-x-3"},ye={class:"text-gray-400 hover:text-gray-500"},ve={class:"space-y-6"},we={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},ke={class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},Te={class:"flex items-center justify-between"},je={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Ee={class:"divide-y divide-gray-100"},Ce={class:"flex items-center space-x-4"},Re={class:"relative"},Se={class:"h-10 w-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 flex items-center justify-center text-white text-base font-semibold shadow-sm"},Ie={class:"flex-1 min-w-0"},Ae={class:"text-base font-medium text-gray-900 truncate"},Me={class:"text-sm text-gray-500 truncate"},$e={class:"text-gray-400 hover:text-gray-600"},Be={class:"px-6 py-4 border-t border-gray-100 bg-gray-50"},Le={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},Pe={class:"p-6 space-y-4"},Fe={class:"flex items-center space-x-3"},Ne={class:"p-2 bg-indigo-100 rounded-lg"},Oe={class:"flex items-center space-x-3"},Ve={class:"p-2 bg-green-100 rounded-lg"},De=C({__name:"Show",setup(qe){const y=I(),v=M(),o=_({id:0,name:"",slug:"",members:[],projects:[],assignments:[]}),w=_(!0),k=l=>l.charAt(0).toUpperCase(),T=l=>{var t;return(t=F.find(i=>i.name===l))==null?void 0:t.icon},j=l=>({in_progress:"warning",resolved:"success",closed:"secondary",open:"primary"})[l]||"default";R(async()=>{try{o.value=await S.get(`/teams/${y.params.slug}`)}catch(l){console.error("Ошибка загрузки данных команды",l)}finally{w.value=!1}});const E=async()=>{if(confirm("Вы уверены, что хотите удалить эту команду?"))try{await v.destroy(o.value.id),alert("Команда успешно удалена"),await A.push("/teams")}catch(l){alert("Не удалось удалить команду"),console.error("Ошибка при удалении команды:",l)}};return(l,t)=>(d(),h($,null,{default:c(()=>[e("div",O,[e("div",V,[e("div",D,[e("div",q,[r(s(a),{icon:"heroicons:user-group",class:"h-8 w-8 text-white"})]),e("div",null,[e("h1",J,n(o.value.name),1),e("p",U,"Команда • "+n(o.value.members.length)+" участников",1)])]),e("div",z,[r(s(u),{to:`/teams/${o.value.slug}/edit`,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-gray-700 text-sm font-medium rounded-lg shadow-sm hover:bg-gray-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:c(()=>[r(s(a),{icon:"heroicons:pencil-square",class:"mr-2 h-4 w-4"}),t[0]||(t[0]=f(" Редактировать "))]),_:1},8,["to"]),e("button",{onClick:E,type:"button",class:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-red-600 text-sm font-medium rounded-lg shadow-sm hover:bg-red-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"},[r(s(a),{icon:"heroicons:trash",class:"mr-2 h-4 w-4"}),t[1]||(t[1]=f(" Удалить "))])])]),e("div",G,[e("div",H,[e("div",K,[t[4]||(t[4]=e("div",{class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Основная информация")],-1)),e("div",Q,[e("dl",W,[e("div",X,[t[2]||(t[2]=e("dt",{class:"flex-1 text-sm font-medium text-gray-500"},"Название команды",-1)),e("dd",Y,n(o.value.name),1)]),e("div",Z,[t[3]||(t[3]=e("dt",{class:"flex-1 text-sm font-medium text-gray-500"},"Идентификатор",-1)),e("dd",ee,n(o.value.slug),1)])])])]),o.value.projects.length?(d(),g("div",te,[e("div",se,[e("div",oe,[t[5]||(t[5]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Проекты команды",-1)),e("span",re,n(o.value.projects.length)+" проектов ",1)])]),e("div",ie,[(d(!0),g(p,null,b(o.value.projects,i=>(d(),h(s(u),{key:i.id,to:`/projects/${i.slug}`,class:"block p-5 hover:bg-gray-50 transition-colors duration-150"},{default:c(()=>[e("div",ne,[e("div",ae,[r(s(a),{icon:T(i.platform),class:"w-6 h-6 text-indigo-600"},null,8,["icon"])]),e("div",de,[e("p",le,n(i.name),1),e("p",ce,n(i.platform),1)]),e("div",null,[r(s(a),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})])])]),_:2},1032,["to"]))),128))])])):m("",!0),o.value.assignments.length?(d(),g("div",ge,[e("div",ue,[e("div",me,[t[6]||(t[6]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Активные задачи",-1)),e("span",fe,n(o.value.assignments.length)+" задач ",1)])]),e("ul",xe,[(d(!0),g(p,null,b(o.value.assignments,i=>(d(),g("li",{key:i.id,class:"p-5 hover:bg-gray-50 transition-colors duration-150"},[e("div",he,[e("div",pe,[e("p",be,n(i.issue.title),1),e("div",_e,[r(s(L),{variant:j(i.issue.status),text:s(P)(i.issue.status)},null,8,["variant","text"]),t[7]||(t[7]=e("span",{class:"text-xs text-gray-500"},"Обновлено 2 дня назад",-1))])]),e("button",ye,[r(s(a),{icon:"heroicons:ellipsis-vertical",class:"h-5 w-5"})])])]))),128))])])):m("",!0)]),e("div",ve,[o.value.members.length?(d(),g("div",we,[e("div",ke,[e("div",Te,[t[8]||(t[8]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Участники команды",-1)),e("span",je,n(o.value.members.length)+" человек ",1)])]),e("ul",Ee,[(d(!0),g(p,null,b(o.value.members,i=>(d(),g("li",{key:i.id,class:"p-5 hover:bg-gray-50 transition-colors duration-150"},[e("div",Ce,[e("div",Re,[e("div",Se,n(k(i.name)),1),t[9]||(t[9]=e("span",{class:"absolute -bottom-1 -right-1 bg-green-400 rounded-full h-3 w-3 border-2 border-white"},null,-1))]),e("div",Ie,[e("p",Ae,n(i.name),1),e("p",Me,n(i.email),1)]),e("button",$e,[r(s(a),{icon:"heroicons:envelope",class:"h-5 w-5"})])])]))),128))]),e("div",Be,[r(s(u),{to:s(x).TEAM.EDIT.replace(":slug",o.value.slug),class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:c(()=>[r(s(a),{icon:"heroicons:plus",class:"-ml-1 mr-2 h-5 w-5 text-gray-400"}),t[10]||(t[10]=f(" Пригласить участника "))]),_:1},8,["to"])])])):m("",!0),e("div",Le,[t[13]||(t[13]=e("div",{class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Быстрые действия")],-1)),e("div",Pe,[r(s(u),{to:s(x).PROJECT.CREATE,class:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50 transition-all duration-200"},{default:c(()=>[e("div",Fe,[e("div",Ne,[r(s(a),{icon:"heroicons:plus-circle",class:"h-5 w-5 text-indigo-600"})]),t[11]||(t[11]=e("span",{class:"text-sm font-medium text-gray-700"},"Создать проект",-1))]),r(s(a),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})]),_:1},8,["to"]),r(s(u),{to:s(x).TEAM.EDIT.replace(":slug",o.value.slug),class:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-all duration-200"},{default:c(()=>[e("div",Oe,[e("div",Ve,[r(s(a),{icon:"heroicons:user-plus",class:"h-5 w-5 text-green-600"})]),t[12]||(t[12]=e("span",{class:"text-sm font-medium text-gray-700"},"Добавить участника",-1))]),r(s(a),{icon:"heroicons:chevron-right",class:"h-5 w-5 text-gray-400"})]),_:1},8,["to"])])])])]),!o.value.projects.length&&!o.value.assignments.length?(d(),h(s(B),{key:0,title:"Команда пуста",icon:"heroicons:user-group",description:"Начните добавлять проекты и участников, чтобы раскрыть потенциал вашей команды.",class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 text-center"},{default:c(()=>[r(s(u),{to:s(x).PROJECT.CREATE,class:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:c(()=>[r(s(a),{icon:"heroicons:plus",class:"-ml-1 mr-2 h-5 w-5"}),t[14]||(t[14]=f(" Добавить проект "))]),_:1},8,["to"])]),_:1})):m("",!0)])]),_:1}))}}),et=N(De,[["__scopeId","data-v-91f9f442"]]);export{et as default};
