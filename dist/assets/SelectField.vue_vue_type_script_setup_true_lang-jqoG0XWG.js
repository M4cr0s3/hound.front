import{k as L,c as x,ae as $e,af as le,ag as X,m as Y,ah as Ve,ai as ee,F as I,d as U,aj as be,x as he,E as Te,aa as M,ak as $,a as k,e as B,q as A,f as N,w as H,n as oe,t as j,o as O,b as R,l as ue,h as K,p as q,ab as je,a6 as Ae,a8 as Ne,j as ie}from"./index-BCF3V4H9.js";import{I as J}from"./iconify-B7i5wVmN.js";import{w as Re}from"./index-waWTbR4Y.js";function Ie(e,n,t){let o=L(t==null?void 0:t.value),a=x(()=>e.value!==void 0);return[x(()=>a.value?e.value:o.value),function(r){return a.value||(o.value=r),n==null?void 0:n(r)}]}var se;let Fe=Symbol("headlessui.useid"),Ce=0;const _=(se=$e)!=null?se:function(){return le(Fe,()=>`${++Ce}`)()};function w(e){var n;if(e==null||e.value==null)return null;let t=(n=e.value.$el)!=null?n:e.value;return t instanceof Node?t:null}function V(e,n,...t){if(e in n){let a=n[e];return typeof a=="function"?a(...t):a}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,V),o}var Be=Object.defineProperty,Me=(e,n,t)=>n in e?Be(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,de=(e,n,t)=>(Me(e,typeof n!="symbol"?n+"":n,t),t);let Ue=class{constructor(){de(this,"current",this.detect()),de(this,"currentId",0)}set(n){this.current!==n&&(this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},ne=new Ue;function He(e){if(ne.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let n=w(e);if(n)return n.ownerDocument}return document}let ce=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ze=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ze||{}),Ke=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ke||{}),qe=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(qe||{}),re=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(re||{});function ge(e,n=0){var t;return e===((t=He(e))==null?void 0:t.body)?!1:V(n,{0(){return e.matches(ce)},1(){let o=e;for(;o!==null;){if(o.matches(ce))return!0;o=o.parentElement}return!1}})}var We=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(We||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Qe(e,n=t=>t){return e.slice().sort((t,o)=>{let a=n(t),r=n(o);if(a===null||r===null)return 0;let l=a.compareDocumentPosition(r);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ge(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ye(){return/Android/gi.test(window.navigator.userAgent)}function Xe(){return Ge()||Ye()}function G(e,n,t){ne.isServer||X(o=>{document.addEventListener(e,n,t),o(()=>document.removeEventListener(e,n,t))})}function _e(e,n,t){ne.isServer||X(o=>{window.addEventListener(e,n,t),o(()=>window.removeEventListener(e,n,t))})}function Je(e,n,t=x(()=>!0)){function o(r,l){if(!t.value||r.defaultPrevented)return;let d=l(r);if(d===null||!d.getRootNode().contains(d))return;let v=function c(p){return typeof p=="function"?c(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let c of v){if(c===null)continue;let p=c instanceof HTMLElement?c:w(c);if(p!=null&&p.contains(d)||r.composed&&r.composedPath().includes(p))return}return!ge(d,re.Loose)&&d.tabIndex!==-1&&r.preventDefault(),n(r,d)}let a=L(null);G("pointerdown",r=>{var l,d;t.value&&(a.value=((d=(l=r.composedPath)==null?void 0:l.call(r))==null?void 0:d[0])||r.target)},!0),G("mousedown",r=>{var l,d;t.value&&(a.value=((d=(l=r.composedPath)==null?void 0:l.call(r))==null?void 0:d[0])||r.target)},!0),G("click",r=>{Xe()||a.value&&(o(r,()=>a.value),a.value=null)},!0),G("touchend",r=>o(r,()=>r.target instanceof HTMLElement?r.target:null),!0),_e("blur",r=>o(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function fe(e,n){if(e)return e;let t=n??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function Ze(e,n){let t=L(fe(e.value.type,e.value.as));return Y(()=>{t.value=fe(e.value.type,e.value.as)}),X(()=>{var o;t.value||w(n)&&w(n)instanceof HTMLButtonElement&&!((o=w(n))!=null&&o.hasAttribute("type"))&&(t.value="button")}),t}function pe(e){return[e.screenX,e.screenY]}function et(){let e=L([-1,-1]);return{wasMoved(n){let t=pe(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=pe(n)}}}var te=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(te||{}),tt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(tt||{});function z({visible:e=!0,features:n=0,ourProps:t,theirProps:o,...a}){var r;let l=xe(o,t),d=Object.assign(a,{props:l});if(e||n&2&&l.static)return Z(d);if(n&1){let v=(r=l.unmount)==null||r?0:1;return V(v,{0(){return null},1(){return Z({...a,props:{...l,hidden:!0,style:{display:"none"}}})}})}return Z(d)}function Z({props:e,attrs:n,slots:t,slot:o,name:a}){var r,l;let{as:d,...v}=we(e,["unmount","static"]),c=(r=t.default)==null?void 0:r.call(t,o),p={};if(o){let s=!1,u=[];for(let[g,m]of Object.entries(o))typeof m=="boolean"&&(s=!0),m===!0&&u.push(g);s&&(p["data-headlessui-state"]=u.join(" "))}if(d==="template"){if(c=ye(c??[]),Object.keys(v).length>0||Object.keys(n).length>0){let[s,...u]=c??[];if(!nt(s)||u.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(v).concat(Object.keys(n)).map(h=>h.trim()).filter((h,D,T)=>T.indexOf(h)===D).sort((h,D)=>h.localeCompare(D)).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`));let g=xe((l=s.props)!=null?l:{},v,p),m=Ve(s,g,!0);for(let h in g)h.startsWith("on")&&(m.props||(m.props={}),m.props[h]=g[h]);return m}return Array.isArray(c)&&c.length===1?c[0]:c}return ee(d,Object.assign({},v,p),{default:()=>c})}function ye(e){return e.flatMap(n=>n.type===I?ye(n.children):[n])}function xe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},t={};for(let o of e)for(let a in o)a.startsWith("on")&&typeof o[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(o[a])):n[a]=o[a];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(t).map(o=>[o,void 0])));for(let o in t)Object.assign(n,{[o](a,...r){let l=t[o];for(let d of l){if(a instanceof Event&&a.defaultPrevented)return;d(a,...r)}}});return n}function lt(e){let n=Object.assign({},e);for(let t in n)n[t]===void 0&&delete n[t];return n}function we(e,n=[]){let t=Object.assign({},e);for(let o of n)o in t&&delete t[o];return t}function nt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var Oe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Oe||{});let rt=U({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:n,attrs:t}){return()=>{var o;let{features:a,...r}=e,l={"aria-hidden":(a&2)===2?!0:(o=r["aria-hidden"])!=null?o:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return z({ourProps:l,theirProps:r,slot:{},attrs:t,slots:n,name:"Hidden"})}}}),Se=Symbol("Context");var W=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(W||{});function at(){return le(Se,null)}function ot(e){be(Se,e)}var S=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(S||{});function ut(e){throw new Error("Unexpected object: "+e)}var E=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(E||{});function it(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),a=o??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 1:{a===-1&&(a=t.length);for(let r=a-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 2:{for(let r=a+1;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 3:{for(let r=t.length-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 4:{for(let r=0;r<t.length;++r)if(n.resolveId(t[r],r,t)===e.id)return r;return o}case 5:return null;default:ut(e)}}function ke(e={},n=null,t=[]){for(let[o,a]of Object.entries(e))De(t,Le(n,o),a);return t}function Le(e,n){return e?e+"["+n+"]":n}function De(e,n,t){if(Array.isArray(t))for(let[o,a]of t.entries())De(e,Le(n,o.toString()),a);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):ke(t,n,e)}let ve=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function me(e){var n,t;let o=(n=e.innerText)!=null?n:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return o;let r=!1;for(let d of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))d.remove(),r=!0;let l=r?(t=a.innerText)!=null?t:"":o;return ve.test(l)&&(l=l.replace(ve,"")),l}function st(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let t=e.getAttribute("aria-labelledby");if(t){let o=t.split(" ").map(a=>{let r=document.getElementById(a);if(r){let l=r.getAttribute("aria-label");return typeof l=="string"?l.trim():me(r).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return me(e).trim()}function dt(e){let n=L(""),t=L("");return()=>{let o=w(e);if(!o)return"";let a=o.innerText;if(n.value===a)return t.value;let r=st(o).trim().toLowerCase();return n.value=a,t.value=r,r}}function ct(e,n){return e===n}var ft=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ft||{}),pt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(pt||{}),vt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(vt||{});function mt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Ee=Symbol("ListboxContext");function Q(e){let n=le(Ee,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Q),t}return n}let bt=U({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ct},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:o}){let a=L(1),r=L(null),l=L(null),d=L(null),v=L([]),c=L(""),p=L(null),s=L(1);function u(i=f=>f){let f=p.value!==null?v.value[p.value]:null,b=Qe(i(v.value.slice()),P=>w(P.dataRef.domRef)),y=f?b.indexOf(f):null;return y===-1&&(y=null),{options:b,activeOptionIndex:y}}let g=x(()=>e.multiple?1:0),[m,h]=Ie(x(()=>e.modelValue),i=>o("update:modelValue",i),x(()=>e.defaultValue)),D=x(()=>m.value===void 0?V(g.value,{1:[],0:void 0}):m.value),T={listboxState:a,value:D,mode:g,compare(i,f){if(typeof e.by=="string"){let b=e.by;return(i==null?void 0:i[b])===(f==null?void 0:f[b])}return e.by(i,f)},orientation:x(()=>e.horizontal?"horizontal":"vertical"),labelRef:r,buttonRef:l,optionsRef:d,disabled:x(()=>e.disabled),options:v,searchQuery:c,activeOptionIndex:p,activationTrigger:s,closeListbox(){e.disabled||a.value!==1&&(a.value=1,p.value=null)},openListbox(){e.disabled||a.value!==0&&(a.value=0)},goToOption(i,f,b){if(e.disabled||a.value===1)return;let y=u(),P=it(i===E.Specific?{focus:E.Specific,id:f}:{focus:i},{resolveItems:()=>y.options,resolveActiveIndex:()=>y.activeOptionIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.disabled});c.value="",p.value=P,s.value=b??1,v.value=y.options},search(i){if(e.disabled||a.value===1)return;let f=c.value!==""?0:1;c.value+=i.toLowerCase();let b=(p.value!==null?v.value.slice(p.value+f).concat(v.value.slice(0,p.value+f)):v.value).find(P=>P.dataRef.textValue.startsWith(c.value)&&!P.dataRef.disabled),y=b?v.value.indexOf(b):-1;y===-1||y===p.value||(p.value=y,s.value=1)},clearSearch(){e.disabled||a.value!==1&&c.value!==""&&(c.value="")},registerOption(i,f){let b=u(y=>[...y,{id:i,dataRef:f}]);v.value=b.options,p.value=b.activeOptionIndex},unregisterOption(i){let f=u(b=>{let y=b.findIndex(P=>P.id===i);return y!==-1&&b.splice(y,1),b});v.value=f.options,p.value=f.activeOptionIndex,s.value=1},theirOnChange(i){e.disabled||h(i)},select(i){e.disabled||h(V(g.value,{0:()=>i,1:()=>{let f=$(T.value.value).slice(),b=$(i),y=f.findIndex(P=>T.compare(b,$(P)));return y===-1?f.push(b):f.splice(y,1),f}}))}};Je([l,d],(i,f)=>{var b;T.closeListbox(),ge(f,re.Loose)||(i.preventDefault(),(b=w(l))==null||b.focus())},x(()=>a.value===0)),be(Ee,T),ot(x(()=>V(a.value,{0:W.Open,1:W.Closed})));let F=x(()=>{var i;return(i=w(l))==null?void 0:i.closest("form")});return Y(()=>{he([F],()=>{if(!F.value||e.defaultValue===void 0)return;function i(){T.theirOnChange(e.defaultValue)}return F.value.addEventListener("reset",i),()=>{var f;(f=F.value)==null||f.removeEventListener("reset",i)}},{immediate:!0})}),()=>{let{name:i,modelValue:f,disabled:b,form:y,...P}=e,C={open:a.value===0,disabled:b,value:D.value};return ee(I,[...i!=null&&D.value!=null?ke({[i]:D.value}).map(([ae,Pe])=>ee(rt,lt({features:Oe.Hidden,key:ae,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:y,disabled:b,name:ae,value:Pe}))):[],z({ourProps:{},theirProps:{...t,...we(P,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:C,slots:n,attrs:t,name:"Listbox"})])}}}),ht=U({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t}){var o;let a=(o=e.id)!=null?o:`headlessui-listbox-label-${_()}`,r=Q("ListboxLabel");function l(){var d;(d=w(r.buttonRef))==null||d.focus({preventScroll:!0})}return()=>{let d={open:r.listboxState.value===0,disabled:r.disabled.value},{...v}=e,c={id:a,ref:r.labelRef,onClick:l};return z({ourProps:c,theirProps:v,slot:d,attrs:n,slots:t,name:"ListboxLabel"})}}}),gt=U({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let r=(a=e.id)!=null?a:`headlessui-listbox-button-${_()}`,l=Q("ListboxButton");o({el:l.buttonRef,$el:l.buttonRef});function d(s){switch(s.key){case S.Space:case S.Enter:case S.ArrowDown:s.preventDefault(),l.openListbox(),M(()=>{var u;(u=w(l.optionsRef))==null||u.focus({preventScroll:!0}),l.value.value||l.goToOption(E.First)});break;case S.ArrowUp:s.preventDefault(),l.openListbox(),M(()=>{var u;(u=w(l.optionsRef))==null||u.focus({preventScroll:!0}),l.value.value||l.goToOption(E.Last)});break}}function v(s){switch(s.key){case S.Space:s.preventDefault();break}}function c(s){l.disabled.value||(l.listboxState.value===0?(l.closeListbox(),M(()=>{var u;return(u=w(l.buttonRef))==null?void 0:u.focus({preventScroll:!0})})):(s.preventDefault(),l.openListbox(),mt(()=>{var u;return(u=w(l.optionsRef))==null?void 0:u.focus({preventScroll:!0})})))}let p=Ze(x(()=>({as:e.as,type:n.type})),l.buttonRef);return()=>{var s,u;let g={open:l.listboxState.value===0,disabled:l.disabled.value,value:l.value.value},{...m}=e,h={ref:l.buttonRef,id:r,type:p.value,"aria-haspopup":"listbox","aria-controls":(s=w(l.optionsRef))==null?void 0:s.id,"aria-expanded":l.listboxState.value===0,"aria-labelledby":l.labelRef.value?[(u=w(l.labelRef))==null?void 0:u.id,r].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:d,onKeyup:v,onClick:c};return z({ourProps:h,theirProps:m,slot:g,attrs:n,slots:t,name:"ListboxButton"})}}}),yt=U({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let r=(a=e.id)!=null?a:`headlessui-listbox-options-${_()}`,l=Q("ListboxOptions"),d=L(null);o({el:l.optionsRef,$el:l.optionsRef});function v(s){switch(d.value&&clearTimeout(d.value),s.key){case S.Space:if(l.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),l.search(s.key);case S.Enter:if(s.preventDefault(),s.stopPropagation(),l.activeOptionIndex.value!==null){let u=l.options.value[l.activeOptionIndex.value];l.select(u.dataRef.value)}l.mode.value===0&&(l.closeListbox(),M(()=>{var u;return(u=w(l.buttonRef))==null?void 0:u.focus({preventScroll:!0})}));break;case V(l.orientation.value,{vertical:S.ArrowDown,horizontal:S.ArrowRight}):return s.preventDefault(),s.stopPropagation(),l.goToOption(E.Next);case V(l.orientation.value,{vertical:S.ArrowUp,horizontal:S.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),l.goToOption(E.Previous);case S.Home:case S.PageUp:return s.preventDefault(),s.stopPropagation(),l.goToOption(E.First);case S.End:case S.PageDown:return s.preventDefault(),s.stopPropagation(),l.goToOption(E.Last);case S.Escape:s.preventDefault(),s.stopPropagation(),l.closeListbox(),M(()=>{var u;return(u=w(l.buttonRef))==null?void 0:u.focus({preventScroll:!0})});break;case S.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(l.search(s.key),d.value=setTimeout(()=>l.clearSearch(),350));break}}let c=at(),p=x(()=>c!==null?(c.value&W.Open)===W.Open:l.listboxState.value===0);return()=>{var s,u;let g={open:l.listboxState.value===0},{...m}=e,h={"aria-activedescendant":l.activeOptionIndex.value===null||(s=l.options.value[l.activeOptionIndex.value])==null?void 0:s.id,"aria-multiselectable":l.mode.value===1?!0:void 0,"aria-labelledby":(u=w(l.buttonRef))==null?void 0:u.id,"aria-orientation":l.orientation.value,id:r,onKeydown:v,role:"listbox",tabIndex:0,ref:l.optionsRef};return z({ourProps:h,theirProps:m,slot:g,attrs:n,slots:t,features:te.RenderStrategy|te.Static,visible:p.value,name:"ListboxOptions"})}}}),xt=U({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:t,expose:o}){var a;let r=(a=e.id)!=null?a:`headlessui-listbox-option-${_()}`,l=Q("ListboxOption"),d=L(null);o({el:d,$el:d});let v=x(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===r:!1),c=x(()=>V(l.mode.value,{0:()=>l.compare($(l.value.value),$(e.value)),1:()=>$(l.value.value).some(i=>l.compare($(i),$(e.value)))})),p=x(()=>V(l.mode.value,{1:()=>{var i;let f=$(l.value.value);return((i=l.options.value.find(b=>f.some(y=>l.compare($(y),$(b.dataRef.value)))))==null?void 0:i.id)===r},0:()=>c.value})),s=dt(d),u=x(()=>({disabled:e.disabled,value:e.value,get textValue(){return s()},domRef:d}));Y(()=>l.registerOption(r,u)),Te(()=>l.unregisterOption(r)),Y(()=>{he([l.listboxState,c],()=>{l.listboxState.value===0&&c.value&&V(l.mode.value,{1:()=>{p.value&&l.goToOption(E.Specific,r)},0:()=>{l.goToOption(E.Specific,r)}})},{immediate:!0})}),X(()=>{l.listboxState.value===0&&v.value&&l.activationTrigger.value!==0&&M(()=>{var i,f;return(f=(i=w(d))==null?void 0:i.scrollIntoView)==null?void 0:f.call(i,{block:"nearest"})})});function g(i){if(e.disabled)return i.preventDefault();l.select(e.value),l.mode.value===0&&(l.closeListbox(),M(()=>{var f;return(f=w(l.buttonRef))==null?void 0:f.focus({preventScroll:!0})}))}function m(){if(e.disabled)return l.goToOption(E.Nothing);l.goToOption(E.Specific,r)}let h=et();function D(i){h.update(i)}function T(i){h.wasMoved(i)&&(e.disabled||v.value||l.goToOption(E.Specific,r,0))}function F(i){h.wasMoved(i)&&(e.disabled||v.value&&l.goToOption(E.Nothing))}return()=>{let{disabled:i}=e,f={active:v.value,selected:c.value,disabled:i},{value:b,disabled:y,...P}=e,C={id:r,ref:d,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:g,onFocus:m,onPointerenter:D,onMouseenter:D,onPointermove:T,onMousemove:T,onPointerleave:F,onMouseleave:F};return z({ourProps:C,theirProps:P,slot:f,attrs:t,slots:n,name:"ListboxOption"})}}});const wt={class:"relative"},Ot={class:"relative mt-1"},St={key:0,class:"text-red-500"},kt={class:"block truncate"},Lt={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Dt={key:0,class:"px-3 py-2"},Et={key:1,class:"py-2 px-3 text-sm text-gray-500"},Pt={key:0,class:"flex items-center"},$t=["checked"],Vt={key:2,class:q(["absolute inset-y-0 right-0 flex items-center pr-4 text-indigo-600"])},Tt={key:0,class:"mt-2 flex flex-wrap gap-2"},jt=["onClick"],At={key:1,class:"mt-2 text-sm text-gray-500"},Nt={key:2,class:"mt-2 text-sm text-red-600"},Bt=U({__name:"SelectField",props:{modelValue:{type:[Object,String,Number,Array],default:null},options:{type:Array,required:!0},label:{type:String,default:""},placeholder:{type:String,default:"Выберите опцию"},description:{type:String,default:""},optionLabel:{type:String,default:"name"},optionValue:{type:String,default:"id"},noOptionsValue:{type:String,default:"Нет доступных значений"},error:{type:String,default:""},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},searchDebounce:{type:Number,default:300},required:{type:Boolean,default:!1}},emits:["update:modelValue","search"],setup(e,{emit:n}){const t=e,o=n,a=L("");Re(a,u=>{o("search",u)},{debounce:t.searchDebounce});const r=x({get:()=>t.multiple?Array.isArray(t.modelValue)?t.modelValue:[]:t.options.length===0&&!t.modelValue?t.noOptionsValue:t.modelValue,set:u=>{(t.multiple||u!==t.noOptionsValue)&&o("update:modelValue",u)}}),l=u=>t.options.find(g=>p(g)===u),d=x(()=>t.multiple?null:t.options.find(u=>p(u)===r.value)),v=x(()=>t.multiple?null:d.value?c(d.value):t.options.length===0?t.noOptionsValue:null),c=u=>typeof u=="object"?u[t.optionLabel]:u,p=u=>typeof u=="object"?u[t.optionValue]:u,s=u=>{if(!t.multiple)return;const g=r.value.filter(m=>m!==u);o("update:modelValue",g)};return(u,g)=>(O(),k("div",wt,[B(N(bt),{modelValue:r.value,"onUpdate:modelValue":g[2]||(g[2]=m=>r.value=m),multiple:e.multiple},{default:H(()=>[R("div",Ot,[e.label?(O(),ue(N(ht),{key:0,class:"block text-sm font-medium text-gray-700 mb-1"},{default:H(()=>[K(j(e.label)+" ",1),e.required?(O(),k("span",St,"*")):A("",!0)]),_:1})):A("",!0),B(N(gt),{class:q(["relative w-full cursor-pointer rounded-md border py-2 pl-3 pr-10 text-left shadow-sm focus:outline-none sm:text-sm",[e.error?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500"]])},{default:H(()=>[R("span",kt,[e.multiple?(O(),k(I,{key:0},[r.value.length===0?(O(),k(I,{key:0},[K(j(e.placeholder),1)],64)):(O(),k(I,{key:1},[K(j(r.value.length)+" выбрано ",1)],64))],64)):(O(),k(I,{key:1},[K(j(v.value||e.placeholder),1)],64))]),R("span",Lt,[B(N(J),{icon:"mdi:chevron-down",class:"h-5 w-5 text-gray-400"})])]),_:1},8,["class"]),B(je,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:H(()=>[B(N(yt),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg border border-gray-200 focus:outline-none sm:text-sm"},{default:H(()=>[e.searchable?(O(),k("div",Dt,[Ae(R("input",{"onUpdate:modelValue":g[0]||(g[0]=m=>a.value=m),type:"text",class:"w-full rounded-md border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Поиск..."},null,512),[[Ne,a.value]])])):A("",!0),e.options.length===0?(O(),k("div",Et," Нет результатов ")):A("",!0),(O(!0),k(I,null,oe(e.options,m=>(O(),ue(N(xt),{key:p(m),value:p(m),class:"cursor-pointer",as:"template"},{default:H(({active:h,selected:D})=>[R("li",{class:q([h?"bg-indigo-100 text-indigo-900":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[e.multiple?(O(),k("div",Pt,[R("input",{type:"checkbox",checked:D,class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onClick:g[1]||(g[1]=ie(()=>{},["stop"]))},null,8,$t),R("span",{class:q([D?"font-semibold":"font-normal","ml-3 block truncate"])},j(c(m)),3)])):(O(),k("span",{key:1,class:q([D?"font-semibold":"font-normal","block truncate"])},j(c(m)),3)),D&&!e.multiple?(O(),k("span",Vt,[B(N(J),{class:"h-5 w-5",icon:"mdi:check"})])):A("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue","multiple"]),e.multiple&&r.value.length>0?(O(),k("div",Tt,[(O(!0),k(I,null,oe(r.value,m=>(O(),k("span",{key:m,class:"inline-flex items-center rounded bg-indigo-100 px-2 py-0.5 text-xs font-medium text-indigo-800"},[K(j(c(l(m)))+" ",1),R("button",{type:"button",onClick:ie(h=>s(m),["stop"]),class:"ml-1.5 inline-flex text-indigo-600 hover:text-indigo-900 cursor-pointer"},[B(N(J),{icon:"mdi:close",class:"h-3 w-3"})],8,jt)]))),128))])):A("",!0),e.description&&!e.error?(O(),k("p",At,j(e.description),1)):A("",!0),e.error?(O(),k("p",Nt,j(e.error),1)):A("",!0)]))}});export{Bt as _};
