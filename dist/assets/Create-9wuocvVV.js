import{d as y,c as w,a as f,o as u,b as s,F as $,n as k,p as C,j as h,e as a,f as o,t as S,k as j,l as U,w as m,h as g,R as P,K as _}from"./index-BCF3V4H9.js";import{I as c}from"./iconify-B7i5wVmN.js";import{P as v}from"./platforms-D8ztvdxx.js";import{_ as b}from"./Button.vue_vue_type_script_setup_true_lang-DUH1P037.js";import"./StacktraceViewer.vue_vue_type_style_index_0_scoped_8568d111_lang-OogGfIpQ.js";import{_ as V}from"./InputField.vue_vue_type_script_setup_true_lang-QcQn2eeV.js";import{_ as R}from"./SelectField.vue_vue_type_script_setup_true_lang-jqoG0XWG.js";import{_ as L}from"./ThePanel.vue_vue_type_script_setup_true_lang-Dia4GMkS.js";import{b as T,a as B}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-C3vzuPhL.js";import{u as E}from"./projects-DGv742xl.js";import"./index-waWTbR4Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},F=["onClick"],I={class:"text-sm text-center"},M=y({__name:"PlatformCard",props:{category:{},modelValue:{}},emits:["update:modelValue"],setup(x,{emit:t}){const i=x,d=t,p=w(()=>i.category?v.filter(e=>e.categories.includes(i.category)):v),n=e=>{d("update:modelValue",e.name)};return(e,l)=>(u(),f("div",null,[s("div",N,[(u(!0),f($,null,k(p.value,r=>(u(),f("button",{key:r.id,onClick:h(z=>n(r),["prevent"]),class:C(["p-3 border rounded-lg flex flex-col items-center transition-colors cursor-pointer",{"border-indigo-500 bg-indigo-50":e.modelValue===r.name,"border-gray-200 hover:border-gray-300":e.modelValue!==r.name}])},[a(o(c),{icon:r.icon,class:"w-8 h-8 mb-2"},null,8,["icon"]),s("span",I,S(r.name),1)],10,F))),128))])]))}}),O={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},q={class:"flex items-center space-x-4 mb-8"},D={class:"p-3 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl shadow-md"},K={class:"pt-4 flex justify-end gap-x-3 border-t border-gray-100"},te=y({__name:"Create",setup(x){const t=j({name:"",slug:"",team_id:0,platform:""}),i=async()=>{try{await d.create(t.value),_.success("Проект успешно создан")}catch(n){_.error("Произошла ошибка при создании проекта",{description:n.data.message})}},d=E(),p=T();return(n,e)=>(u(),U(B,null,{default:m(()=>[s("div",O,[s("div",q,[s("div",D,[a(o(c),{icon:"heroicons:plus-circle",class:"h-8 w-8 text-white"})]),e[5]||(e[5]=s("div",null,[s("h1",{class:"text-2xl font-bold text-gray-900"},"Создание нового проекта"),s("p",{class:"text-sm text-gray-500"},"Заполните информацию о проекте, чтобы начать работу")],-1))]),a(o(L),{title:"Основные параметры"},{default:m(()=>[s("form",{class:"p-6 space-y-6",onSubmit:h(i,["prevent"])},[a(o(V),{id:"project-name",label:"Название проекта",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),placeholder:"project",required:"",icon:"heroicons:tag"},null,8,["modelValue"]),a(o(V),{id:"project-slug",label:"URL-идентификатор",modelValue:t.value.slug,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.slug=l),placeholder:"Например: new-project",description:"Уникальный идентификатор проекта в URL. Можно оставить пустым для автоматической генерации.",icon:"heroicons:link"},null,8,["modelValue"]),a(o(R),{modelValue:t.value.team_id,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.team_id=l),options:o(p).teams,label:"Команда",placeholder:"Выберите команду","option-label":"name","option-value":"id","no-options-value":"Команды отсутствуют",icon:"heroicons:user-group",required:""},null,8,["modelValue","options"]),s("div",null,[e[6]||(e[6]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[g(" Платформа "),s("span",{class:"text-red-500"},"*")],-1)),a(M,{modelValue:t.value.platform,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.platform=l)},null,8,["modelValue"])]),s("div",K,[a(o(b),{variant:"secondary",onClick:e[4]||(e[4]=l=>n.$router.push(o(P).PROJECT.INDEX)),class:"px-4 py-2"},{default:m(()=>[a(o(c),{icon:"heroicons:x-mark",class:"mr-2 h-4 w-4"}),e[7]||(e[7]=g(" Отмена "))]),_:1}),a(o(b),{type:"submit","is-loading":o(d).isLoading,"loading-text":"Создание...",class:"px-4 py-2"},{default:m(()=>[a(o(c),{icon:"heroicons:plus",class:"mr-2 h-4 w-4"}),e[8]||(e[8]=g(" Создать проект "))]),_:1},8,["is-loading"])])],32)]),_:1})])]),_:1}))}});export{te as default};
