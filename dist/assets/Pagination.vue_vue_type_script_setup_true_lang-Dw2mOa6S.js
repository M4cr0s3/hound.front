import"./client-D6K6htDN.js";import"./StacktraceViewer.vue_vue_type_style_index_0_scoped_7fdb99e3_lang-B8VJLqpg.js";import{d as C,c as k,a as r,o,b as a,j as _,m as $,F as u,l as c,n as m,t as d,ab as x,r as L,g,u as B}from"./index-BJM9FpXo.js";const j={class:"bg-white rounded-lg border border-gray-200"},P={class:"relative"},T={class:"min-w-full divide-y divide-gray-200"},z={class:"bg-gray-50"},S={class:"bg-white divide-y divide-gray-200"},V=["onClick"],J=C({__name:"DataTable",props:{columns:{},data:{},rowKey:{},pagination:{},rowClickable:{type:Boolean,default:!1},isLoading:{type:Boolean},rowClass:{default:"text-sm text-gray-700"},paginationText:{}},emits:["row-click","page-change"],setup(h,{emit:y}){const s=h,b=y,f=(e,i)=>{const t=e[i.key];return i.format?i.format(t):t},v=e=>({overflow:e.truncate?"hidden":"visible","text-overflow":e.truncate?"ellipsis":"clip","white-space":e.truncate?"nowrap":"normal","max-width":e.maxWidth||"none","min-width":e.minWidth||"auto",display:"block"}),p=k(()=>s.columns.filter(e=>typeof e.visible=="function"?e.visible():e.visible!==!1)),w=e=>{s.rowClickable&&b("row-click",e)};return(e,i)=>(o(),r("div",j,[a("div",P,[a("table",T,[a("thead",z,[a("tr",null,[(o(!0),r(u,null,c(p.value,t=>(o(),r("th",{key:t.key,scope:"col",class:m(["px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",t.headerClass])},d(t.title),3))),128))])]),a("tbody",S,[(o(!0),r(u,null,c(e.data,(t,l)=>(o(),r("tr",{key:l,class:m(["hover:bg-gray-50",{"cursor-pointer":e.rowClickable,[e.rowClass]:e.rowClass}]),onClick:n=>w(t)},[(o(!0),r(u,null,c(p.value,n=>(o(),r("td",{key:n.key,class:m(["px-6 py-4",n.cellClass]),style:x({"max-width":n.maxWidth||"none","min-width":n.minWidth||"auto"})},[a("div",{class:"cell-content",style:x(v(n))},[L(e.$slots,`cell-${n.key}`,{row:t,value:t[n.key]},()=>[g(d(f(t,n)),1)])],4)],6))),128))],10,V))),128))])])]),e.pagination?(o(),_(B(R),{key:0,pagination:e.pagination,"is-loading":s.isLoading,onPageChange:i[0]||(i[0]=t=>e.$emit("page-change",t)),class:"border-t border-gray-200",text:e.paginationText},null,8,["pagination","is-loading","text"])):$("",!0)]))}}),W={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},F={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},M={class:"text-sm text-gray-700"},N={class:"font-medium"},D={class:"font-medium"},H={class:"font-medium"},E={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},K=["disabled","onClick","innerHTML"],R=C({__name:"Pagination",props:{pagination:{},isLoading:{type:Boolean,default:!1},text:{}},emits:["page-change"],setup(h,{emit:y}){const s=h,b=y,f=k(()=>{var e;return((e=s.pagination)==null?void 0:e.current_page)===1}),v=k(()=>{var e;return((e=s.pagination)==null?void 0:e.current_page)===Math.ceil(s.pagination.total/(s.pagination.to-s.pagination.from+1))}),p=(e,i)=>{const t=[];return t.push("relative inline-flex items-center px-4 py-2 border text-sm font-medium"),s.isLoading&&e.url&&t.push("opacity-70 cursor-wait"),e.active?(t.push("z-10 bg-indigo-50 border-indigo-500 text-indigo-600"),t.join(" ")):e.url?(i===0?t.push("rounded-l-md bg-white text-gray-500 hover:bg-gray-50"):i===s.pagination.links.length-1?t.push("rounded-r-md bg-white text-gray-500 hover:bg-gray-50"):t.push("bg-white text-gray-500 hover:bg-gray-50"),(i===1&&f.value||i===s.pagination.links.length-2&&v.value)&&t.push("cursor-not-allowed bg-gray-100"),t.join(" ")):(t.push("bg-gray-100 text-gray-300 cursor-not-allowed!"),t.join(" "))},w=e=>{s.isLoading||b("page-change",e)};return(e,i)=>{var t;return o(),r("div",W,[a("div",F,[a("div",null,[a("p",M,[i[0]||(i[0]=g(" Показано с ")),a("span",N,d(e.pagination.from),1),i[1]||(i[1]=g(" по ")),a("span",D,d(e.pagination.to),1),i[2]||(i[2]=g(" из ")),a("span",H,d(e.pagination.total),1),g(" "+d(e.text),1)])]),a("div",null,[a("nav",E,[(o(!0),r(u,null,c((t=e.pagination)==null?void 0:t.links,(l,n)=>(o(),r("button",{key:l.label,disabled:!l.url||e.isLoading,onClick:q=>w(l.url),class:m(["relative inline-flex items-center px-4 cursor-pointer py-2 border border-gray-300 text-sm font-medium transition-colors duration-150",p(l,n)]),innerHTML:l.label},null,10,K))),128))])])])])}}});export{J as _};
