import{d as V,c as w,a as p,o as m,b as o,F as k,n as $,p as C,j as h,e as a,f as s,t as S,k as j,l as U,w as g,h as f,R as P,K as b}from"./index-DtEAg2Jf.js";import{b as R,a as L}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-C74l8JPI.js";import{I as u}from"./iconify-DEO8pAAe.js";import{P as v}from"./platforms-D8ztvdxx.js";import{_ as T}from"./SelectField.vue_vue_type_script_setup_true_lang-EhetXMv1.js";import{_ as y}from"./InputField.vue_vue_type_script_setup_true_lang-CRnOktd0.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-DL-_vIG8.js";import"./index-BCqgpTI_.js";import{u as B}from"./projects-ClWVoKjt.js";import"./index-DWuvl89e.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},N=["onClick"],F={class:"text-sm text-center"},I=V({__name:"PlatformCard",props:{category:{},modelValue:{}},emits:["update:modelValue"],setup(x,{emit:t}){const i=x,d=t,c=w(()=>i.category?v.filter(e=>e.categories.includes(i.category)):v),n=e=>{d("update:modelValue",e.name)};return(e,l)=>(m(),p("div",null,[o("div",E,[(m(!0),p(k,null,$(c.value,r=>(m(),p("button",{key:r.id,onClick:h(z=>n(r),["prevent"]),class:C(["p-3 border rounded-lg flex flex-col items-center transition-colors cursor-pointer",{"border-indigo-500 bg-indigo-50":e.modelValue===r.name,"border-gray-200 hover:border-gray-300":e.modelValue!==r.name}])},[a(s(u),{icon:r.icon,class:"w-8 h-8 mb-2"},null,8,["icon"]),o("span",F,S(r.name),1)],10,N))),128))])]))}}),M={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},O={class:"flex items-center space-x-4 mb-8"},q={class:"p-3 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl shadow-md"},D={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"},K={class:"pt-4 flex justify-end gap-x-3 border-t border-gray-100"},se=V({__name:"Create",setup(x){const t=j({name:"",slug:"",team_id:0,platform:""}),i=async()=>{try{await d.create(t.value),b.success("Проект успешно создан")}catch(n){b.error("Произошла ошибка при создании проекта",{description:n.data.message})}},d=B(),c=R();return(n,e)=>(m(),U(L,null,{default:g(()=>[o("div",M,[o("div",O,[o("div",q,[a(s(u),{icon:"heroicons:plus-circle",class:"h-8 w-8 text-white"})]),e[5]||(e[5]=o("div",null,[o("h1",{class:"text-2xl font-bold text-gray-900"},"Создание нового проекта"),o("p",{class:"text-sm text-gray-500"},"Заполните информацию о проекте, чтобы начать работу")],-1))]),o("div",D,[e[9]||(e[9]=o("div",{class:"px-6 py-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white"},[o("h2",{class:"text-lg font-semibold text-gray-900"},"Основные параметры")],-1)),o("form",{class:"p-6 space-y-6",onSubmit:h(i,["prevent"])},[a(s(y),{id:"project-name",label:"Название проекта",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),placeholder:"project",required:"",icon:"heroicons:tag"},null,8,["modelValue"]),a(s(y),{id:"project-slug",label:"URL-идентификатор",modelValue:t.value.slug,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.slug=l),placeholder:"Например: new-project",description:"Уникальный идентификатор проекта в URL. Можно оставить пустым для автоматической генерации.",icon:"heroicons:link"},null,8,["modelValue"]),a(s(T),{modelValue:t.value.team_id,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.team_id=l),options:s(c).teams,label:"Команда",placeholder:"Выберите команду","option-label":"name","option-value":"id","no-options-value":"Команды отсутствуют",icon:"heroicons:user-group",required:""},null,8,["modelValue","options"]),o("div",null,[e[6]||(e[6]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[f(" Платформа "),o("span",{class:"text-red-500"},"*")],-1)),a(I,{modelValue:t.value.platform,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.platform=l)},null,8,["modelValue"])]),o("div",K,[a(s(_),{variant:"secondary",onClick:e[4]||(e[4]=l=>n.$router.push(s(P).PROJECT.INDEX)),class:"px-4 py-2"},{default:g(()=>[a(s(u),{icon:"heroicons:x-mark",class:"mr-2 h-4 w-4"}),e[7]||(e[7]=f(" Отмена "))]),_:1}),a(s(_),{type:"submit","is-loading":s(d).isLoading,"loading-text":"Создание...",class:"px-4 py-2"},{default:g(()=>[a(s(u),{icon:"heroicons:plus",class:"mr-2 h-4 w-4"}),e[8]||(e[8]=f(" Создать проект "))]),_:1},8,["is-loading"])])],32)])])]),_:1}))}});export{se as default};
